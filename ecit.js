function t(tn){return Object.keys(tn).reduce((ti,to)=>{var ta,tl=tn[to];return ti[to]=Object.assign({},tl),!s(tl.value)||(ta=tl.value,"[object Function]"===Object.prototype.toString.call(ta))||Array.isArray(tl.value)||(ti[to].value=Object.assign({},tl.value)),Array.isArray(tl.value)&&(ti[to].value=tl.value.slice(0)),ti},{})}function e(tn){if(tn)try{return JSON.parse(tn)}catch(ti){return tn}}function r(tn,ti,to){if(null==to||!1===to)return tn.removeAttribute(ti);let ta=JSON.stringify(to);tn.__updating[ti]=!0,"true"===ta&&(ta=""),tn.setAttribute(ti,ta),Promise.resolve().then(()=>delete tn.__updating[ti])}function s(tn){return null!=tn&&("object"==typeof tn||"function"==typeof tn)}let i;function a(tn,ti){let to=Object.keys(ti);return class extends tn{static get observedAttributes(){return to.map(tn=>ti[tn].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(!this.__initialized){this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(tn,ti){let to=t(ti);return Object.keys(ti).forEach(ti=>{let ta=to[ti],tl=tn.getAttribute(ta.attribute),th=tn[ti];tl&&(ta.value=ta.parse?e(tl):tl),null!=th&&(ta.value=Array.isArray(th)?th.slice(0):th),ta.reflect&&r(tn,ta.attribute,ta.value),Object.defineProperty(tn,ti,{get:()=>ta.value,set(tn){var to=ta.value;ta.value=tn,ta.reflect&&r(this,ta.attribute,ta.value);for(let tl=0,th=this.__propertyChangedCallbacks.length;tl<th;tl++)this.__propertyChangedCallbacks[tl](ti,tn,to)},enumerable:!0,configurable:!0})}),to}(this,ti);var tn,to,ta=Object.keys(tn=this.props).reduce((ti,to)=>(ti[to]=tn[to].value,ti),{}),tl=this.Component,th=i;try{(i=this).__initialized=!0,(to=tl,"function"==typeof to&&0===to.toString().indexOf("class"))?new tl(ta,{element:this}):tl(ta,{element:this})}finally{i=th}}}async disconnectedCallback(){if(await Promise.resolve(),!this.isConnected){this.__propertyChangedCallbacks.length=0;for(var tn=null;tn=this.__releaseCallbacks.pop();)tn(this);delete this.__initialized,this.__released=!0}}attributeChangedCallback(tn,to,ta){!this.__initialized||this.__updating[tn]||(tn=this.lookupProp(tn))in ti&&(null!=ta||this[tn])&&(this[tn]=ti[tn].parse?e(ta):ta)}lookupProp(tn){if(ti)return to.find(to=>tn===to||tn===ti[to].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(tn){this.__releaseCallbacks.push(tn)}addPropertyChangedCallback(tn){this.__propertyChangedCallbacks.push(tn)}}}function l(tn,ti={},to={}){let{BaseElement:ta=HTMLElement,extension:tl}=to;return to=>{var th;if(!tn)throw Error("tag is required to register a Component");let tc=customElements.get(tn);return tc?tc.prototype.Component=to:((tc=a(ta,(th=ti)?Object.keys(th).reduce((tn,ti)=>{var to,ta=th[ti];return tn[ti]=s(ta)&&"value"in ta?ta:{value:ta},tn[ti].attribute||(tn[ti].attribute=(to=ti).replace(/\.?([A-Z]+)/g,(tn,ti)=>"-"+ti.toLowerCase()).replace("_","-").replace(/^-/,"")),tn[ti].parse="parse"in tn[ti]?tn[ti].parse:"string"!=typeof tn[ti].value,tn},{}):{})).prototype.Component=to,tc.prototype.registeredTag=tn,customElements.define(tn,tc,tl)),tc}}(n=self.document)&&!n.getElementById("livereloadscript")&&((o=n.createElement("script")).async=1,o.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",o.id="livereloadscript",n.getElementsByTagName("head")[0].appendChild(o));let c=Symbol("solid-proxy"),h=Symbol("solid-track"),u={equals:(tn,ti)=>tn===ti},p=j,d=1,f=2,g={owned:null,cleanups:null,context:null,owner:null};var t,b=null;let y=null,m=null,w=null,v=null,x=0;function k(tn,ti){let to=m,ta=b,tl=0===tn.length,th=tl?g:{owned:null,cleanups:null,context:null,owner:void 0===ti?ta:ti},tc=tl?tn:()=>tn(()=>E(()=>q(th)));b=th,m=null;try{return N(tc,!0)}finally{m=to,b=ta}}function _(tn,ti){let to={value:tn,observers:null,observerSlots:null,comparator:(ti=ti?Object.assign({},u,ti):u).equals||void 0};return[R.bind(to),tn=>("function"==typeof tn&&(tn=tn(to.value)),$(to,tn)),]}function C(tn,ti,to){O(B(tn,ti,!1,1))}function S(tn,ti,to){p=z,(tn=B(tn,ti,!1,1)).user=!0,v?v.push(tn):O(tn)}function A(tn,ti,to){return to=to?Object.assign({},u,to):u,(tn=B(tn,ti,!0,0)).observers=null,tn.observerSlots=null,tn.comparator=to.equals||void 0,O(tn),R.bind(tn)}function E(tn){if(null===m)return tn();var ti=m;m=null;try{return tn()}finally{m=ti}}function T(tn){S(()=>E(tn))}function P(tn){return null!==b&&(null===b.cleanups?b.cleanups=[tn]:b.cleanups.push(tn)),tn}function R(){var tn;return this.sources&&this.state&&(1===this.state?O(this):(tn=w,w=null,N(()=>M(this),!1),w=tn)),m&&(tn=this.observers?this.observers.length:0,m.sources?(m.sources.push(this),m.sourceSlots.push(tn)):(m.sources=[this],m.sourceSlots=[tn]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])),this.value}function $(tn,ti,to){var ta=tn.value;return tn.comparator&&tn.comparator(ta,ti)||(tn.value=ti,tn.observers&&tn.observers.length&&N(()=>{for(let ti=0;ti<tn.observers.length;ti+=1){var to=tn.observers[ti],ta=y&&y.running;ta&&y.disposed.has(to),(ta?to.tState:to.state)||((to.pure?w:v).push(to),to.observers&&I(to)),ta||(to.state=1)}if(1e6<w.length)throw w=[],Error()},!1)),ti}function O(tn){var ti,to,ta;tn.fn&&(q(tn),ti=b,to=m,ta=x,function(tn,ti,to){let ta;try{ta=tn.fn(ti)}catch(tl){return tn.pure&&(tn.state=1,tn.owned&&tn.owned.forEach(q),tn.owned=null),tn.updatedAt=to+1,D(tl)}(!tn.updatedAt||tn.updatedAt<=to)&&(null!=tn.updatedAt&&"observers"in tn?$(tn,ta):tn.value=ta,tn.updatedAt=to)}(m=b=tn,tn.value,ta),m=to,b=ti)}function B(tn,ti,to,ta=1,tl){return tn={fn:tn,state:ta,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:ti,owner:b,context:null,pure:to},null!==b&&b!==g&&(b.owned?b.owned.push(tn):b.owned=[tn]),tn}function L(tn){if(0!==tn.state){if(2===tn.state)return M(tn);if(tn.suspense&&E(tn.suspense.inFallback))return tn.suspense.effects.push(tn);let ti=[tn];for(;(tn=tn.owner)&&(!tn.updatedAt||tn.updatedAt<x);)tn.state&&ti.push(tn);for(let to=ti.length-1;0<=to;to--){var ta;1===(tn=ti[to]).state?O(tn):2===tn.state&&(ta=w,w=null,N(()=>M(tn,ti[0]),!1),w=ta)}}}function N(tn,ti){if(w)return tn();let to=!1;ti||(w=[]),v?to=!0:v=[],x++;try{var ta=tn();return function(tn){if(w&&(j(w),w=null),!tn){let ti=v;v=null,ti.length&&N(()=>p(ti),!1)}}(to),ta}catch(tl){to||(v=null),w=null,D(tl)}}function j(tn){for(let ti=0;ti<tn.length;ti++)L(tn[ti])}function z(tn){let ti,to=0;for(ti=0;ti<tn.length;ti++){var ta=tn[ti];ta.user?tn[to++]=ta:L(ta)}for(ti=0;ti<to;ti++)L(tn[ti])}function M(tn,ti){for(let to=tn.state=0;to<tn.sources.length;to+=1){var ta,tl=tn.sources[to];tl.sources&&(1===(ta=tl.state)?tl!==ti&&(!tl.updatedAt||tl.updatedAt<x)&&L(tl):2===ta&&M(tl,ti))}}function I(tn){for(let ti=0;ti<tn.observers.length;ti+=1){var to=tn.observers[ti];to.state||(to.state=2,(to.pure?w:v).push(to),to.observers&&I(to))}}function q(tn){let ti;if(tn.sources)for(;tn.sources.length;){var to,ta,tl=tn.sources.pop(),th=tn.sourceSlots.pop(),tc=tl.observers;tc&&tc.length&&(to=tc.pop(),ta=tl.observerSlots.pop(),th<tc.length)&&(tc[to.sourceSlots[ta]=th]=to,tl.observerSlots[th]=ta)}if(tn.owned){for(ti=tn.owned.length-1;0<=ti;ti--)q(tn.owned[ti]);tn.owned=null}if(tn.cleanups){for(ti=tn.cleanups.length-1;0<=ti;ti--)tn.cleanups[ti]();tn.cleanups=null}tn.state=0,tn.context=null}function D(tn){throw tn}let F=Symbol("fallback");function U(tn){for(let ti=0;ti<tn.length;ti++)tn[ti]()}function G(tn,ti){return E(()=>tn(ti||{}))}function H(){return!0}let W={get:(tn,ti,to)=>ti===c?to:tn.get(ti),has:(tn,ti)=>ti===c||tn.has(ti),set:H,deleteProperty:H,getOwnPropertyDescriptor:(tn,ti)=>({configurable:!0,enumerable:!0,get:()=>tn.get(ti),set:H,deleteProperty:H}),ownKeys:tn=>tn.keys()};function V(tn){return(tn="function"==typeof tn?tn():tn)||{}}function Y(...tn){let ti=!1;for(let to=0;to<tn.length;to++){var ta=tn[to];ti=ti||!!ta&&c in ta,tn[to]="function"==typeof ta?(ti=!0,A(ta)):ta}if(ti)return new Proxy({get(ti){for(let to=tn.length-1;0<=to;to--){var ta=V(tn[to])[ti];if(void 0!==ta)return ta}},has(ti){for(let to=tn.length-1;0<=to;to--)if(ti in V(tn[to]))return!0;return!1},keys(){var ti=[];for(let to=0;to<tn.length;to++)ti.push(...Object.keys(V(tn[to])));return[...new Set(ti)]}},W);var tl={};for(let th=tn.length-1;0<=th;th--)if(tn[th])for(let tc in Object.getOwnPropertyDescriptors(tn[th]))tc in tl||Object.defineProperty(tl,tc,{enumerable:!0,get(){for(let ti=tn.length-1;0<=ti;ti--){var to=(tn[ti]||{})[tc];if(void 0!==to)return to}}});return tl}function X(tn,...ti){var to;let ta=new Set(ti.flat());if(c in tn)return(to=ti.map(ti=>new Proxy({get:to=>ti.includes(to)?tn[to]:void 0,has:to=>ti.includes(to)&&to in tn,keys:()=>ti.filter(ti=>ti in tn)},W))).push(new Proxy({get:ti=>ta.has(ti)?void 0:tn[ti],has:ti=>!ta.has(ti)&&ti in tn,keys:()=>Object.keys(tn).filter(tn=>!ta.has(tn))},W)),to;let tl=Object.getOwnPropertyDescriptors(tn);return ti.push(Object.keys(tl).filter(tn=>!ta.has(tn))),ti.map(ti=>{var to={};for(let ta=0;ta<ti.length;ta++){let th=ti[ta];th in tn&&Object.defineProperty(to,th,tl[th]||{get:()=>tn[th],set:()=>!0,enumerable:!0})}return to})}function J(tn){return A(function(tn,ti,to={}){let ta=[],tl=[],th=[],tc=0,tu=1<ti.length?[]:null;return P(()=>U(th)),()=>{let tp,td,tf=tn()||[];return tf[h],E(()=>{let tn,ti,tb,t$,ty,tm,tv,tw,tk,tx=tf.length;if(0===tx)0!==tc&&(U(th),th=[],ta=[],tl=[],tc=0,tu=tu&&[]),to.fallback&&(ta=[F],tl[0]=k(tn=>(th[0]=tn,to.fallback())),tc=1);else if(0===tc){for(tl=Array(tx),td=0;td<tx;td++)ta[td]=tf[td],tl[td]=k(tg);tc=tx}else{for(tb=Array(tx),t$=Array(tx),tu&&(ty=Array(tx)),tm=0,tv=Math.min(tc,tx);tm<tv&&ta[tm]===tf[tm];tm++);for(tv=tc-1,tw=tx-1;tv>=tm&&tw>=tm&&ta[tv]===tf[tw];tv--,tw--)tb[tw]=tl[tv],t$[tw]=th[tv],tu&&(ty[tw]=tu[tv]);for(tn=new Map,ti=Array(tw+1),td=tw;td>=tm;td--)tk=tf[td],tp=tn.get(tk),ti[td]=void 0===tp?-1:tp,tn.set(tk,td);for(tp=tm;tp<=tv;tp++)tk=ta[tp],void 0!==(td=tn.get(tk))&&-1!==td?(tb[td]=tl[tp],t$[td]=th[tp],tu&&(ty[td]=tu[tp]),td=ti[td],tn.set(tk,td)):th[tp]();for(td=tm;td<tx;td++)td in tb?(tl[td]=tb[td],th[td]=t$[td],tu&&(tu[td]=ty[td],tu[td](td))):tl[td]=k(tg);tl=tl.slice(0,tc=tx),ta=tf.slice(0)}return tl});function tg(tn){var to;return th[td]=tn,tu?([tn,to]=_(td),tu[td]=to,ti(tf[td],tn)):ti(tf[td])}}}(()=>tn.each,tn.children,"fallback"in tn&&{fallback:()=>tn.fallback}||void 0))}function K(tn){let ti=tn.keyed,to=A(()=>tn.when,void 0,{equals:(tn,to)=>ti?tn===to:!tn==!to});return A(()=>{let ta=to();if(ta){let tl=tn.children;return"function"==typeof tl&&0<tl.length?E(()=>tl(ti?ta:()=>{var ti;if(E(to))return tn.when;throw"Stale read from <Show>."})):tl}return tn.fallback},void 0,void 0)}let Q=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected",]),Z=new Set(["innerHTML","textContent","innerText","children"]),tt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),et=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}}),rt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart",]),st={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},nt="_$DX_DELEGATE";function ot(tn,ti,to){let ta,tl=()=>{var ti=document.createElement("template");return ti.innerHTML=tn,(to?ti.content.firstChild:ti.content).firstChild};return(ti=ti?()=>(ta=ta||tl()).cloneNode(!0):()=>E(()=>document.importNode(ta=ta||tl(),!0))).cloneNode=ti}function it(tn,ti=window.document){var to=ti[nt]||(ti[nt]=new Set);for(let ta=0,tl=tn.length;ta<tl;ta++){var th=tn[ta];to.has(th)||(to.add(th),ti.addEventListener(th,ft))}}function at(tn,ti,to){null==to?tn.removeAttribute(ti):tn.setAttribute(ti,to)}function lt(tn,ti){null==ti?tn.removeAttribute("class"):tn.className=ti}function ct(tn,ti={},to,ta){let tl={};return ta||C(()=>tl.children=gt(tn,ti.children,tl.children)),C(()=>ti.ref&&ti.ref(tn)),C(()=>(function(tn,ti,to,ta,tl={},th=!1){for(let tc in ti=ti||{},tl)tc in ti||"children"!==tc&&(tl[tc]=dt(tn,tc,null,tl[tc],to,th));for(let tu in ti){var tp;"children"===tu?ta||gt(tn,ti.children):(tp=ti[tu],tl[tu]=dt(tn,tu,tp,tl[tu],to,th))}})(tn,ti,to,!0,tl,!0)),tl}function ht(tn,ti,to){return E(()=>tn(ti,to))}function ut(tn,ti,to,ta){if(void 0!==to&&(ta=ta||[]),"function"!=typeof ti)return gt(tn,ti,ta,to);C(ta=>gt(tn,ti(),ta,to),ta)}function pt(tn,ti,to){var ta=ti.trim().split(/\s+/);for(let tl=0,th=ta.length;tl<th;tl++)tn.classList.toggle(ta[tl],to)}function dt(tn,ti,to,ta,tl,th){var tc,tu,tp,td,tf,tg,tb,t$;let ty,tm,tv,tw,tk;return"style"===ti?function(tn,ti,to){if(!ti)return to?at(tn,"style"):ti;var ta=tn.style;if("string"==typeof ti)return ta.cssText=ti;let tl,th;for(th in"string"==typeof to&&(ta.cssText=to=void 0),ti=ti||{},to=to||{})null==ti[th]&&ta.removeProperty(th),delete to[th];for(th in ti)(tl=ti[th])!==to[th]&&(ta.setProperty(th,tl),to[th]=tl);return to}(tn,to,ta):"classList"===ti?function(tn,ti,to={}){var ta=Object.keys(ti||{}),tl=Object.keys(to);let th,tc;for(th=0,tc=tl.length;th<tc;th++){var tu=tl[th];tu&&"undefined"!==tu&&!ti[tu]&&(pt(tn,tu,!1),delete to[tu])}for(th=0,tc=ta.length;th<tc;th++){var tp=ta[th],td=!!ti[tp];tp&&"undefined"!==tp&&to[tp]!==td&&td&&(pt(tn,tp,!0),to[tp]=td)}return to}(tn,to,ta):to===ta?ta:("ref"===ti?th||to(tn):"on:"===ti.slice(0,3)?(th=ti.slice(3),ta&&tn.removeEventListener(th,ta),to&&tn.addEventListener(th,to)):"oncapture:"===ti.slice(0,10)?(th=ti.slice(10),ta&&tn.removeEventListener(th,ta,!0),to&&tn.addEventListener(th,to,!0)):"on"===ti.slice(0,2)?(th=ti.slice(2).toLowerCase(),(tc=rt.has(th))||!ta||(ta=Array.isArray(ta)?ta[0]:ta,tn.removeEventListener(th,ta)),(tc||to)&&(function(tn,ti,to,ta){if(ta)Array.isArray(to)?(tn["$$"+ti]=to[0],tn[`$$${ti}Data`]=to[1]):tn["$$"+ti]=to;else if(Array.isArray(to)){let tl=to[0];tn.addEventListener(ti,to[0]=ti=>tl.call(tn,to[1],ti))}else tn.addEventListener(ti,to)}(tn,th,to,tc),tc)&&it([th])):"attr:"===ti.slice(0,5)?at(tn,ti.slice(5),to):(tk="prop:"===ti.slice(0,5))||(tv=Z.has(ti))||!tl&&((tw=(tu=ti,tp=tn.tagName,"object"==typeof(tu=et[tu])?tu[tp]?tu.$:void 0:tu))||(tm=Q.has(ti)))||(ty=tn.nodeName.includes("-"))?(tk&&(ti=ti.slice(5),tm=!0),"class"===ti||"className"===ti?lt(tn,to):!ty||tm||tv?tn[tw||ti]=to:tn[(td=ti).toLowerCase().replace(/-([a-z])/g,(tn,ti)=>ti.toUpperCase())]=to):(ta=tl&&-1<ti.indexOf(":")&&st[ti.split(":")[0]])?(tf=tn,tg=ta,tb=ti,null==(t$=to)?tf.removeAttributeNS(tg,tb):tf.setAttributeNS(tg,tb,t$)):at(tn,tt[ti]||ti,to),to)}function ft(tn){var ti="$$"+tn.type;let to=tn.composedPath&&tn.composedPath()[0]||tn.target;for(tn.target!==to&&Object.defineProperty(tn,"target",{configurable:!0,value:to}),Object.defineProperty(tn,"currentTarget",{configurable:!0,get:()=>to||document});to;){var ta=to[ti];if(ta&&!to.disabled){var tl=to[ti+"Data"];if(void 0!==tl?ta.call(to,tl,tn):ta.call(to,tn),tn.cancelBubble)return}to=to._$host||to.parentNode||to.host}}function gt(tn,ti,to,ta,tl){for(;"function"==typeof to;)to=to();if(ti!==to){var th=typeof ti,tc=void 0!==ta;if(tn=tc&&to[0]&&to[0].parentNode||tn,"string"==th||"number"==th){if("number"==th&&(ti=ti.toString()),tc){let tu=to[0];tu&&3===tu.nodeType?tu.data=ti:tu=document.createTextNode(ti),to=mt(tn,to,ta,tu)}else to=""!==to&&"string"==typeof to?tn.firstChild.data=ti:tn.textContent=ti}else if(null==ti||"boolean"==th)to=mt(tn,to,ta);else{if("function"==th)return C(()=>{let tl=ti();for(;"function"==typeof tl;)tl=tl();to=gt(tn,tl,to,ta)}),()=>to;if(Array.isArray(ti)){let tp=[];if(th=to&&Array.isArray(to),bt(tp,ti,to,tl))return C(()=>to=gt(tn,tp,to,ta,!0)),()=>to;if(0===tp.length){if(to=mt(tn,to,ta),tc)return to}else th?0===to.length?yt(tn,tp,ta):function(tn,ti,to){let ta=to.length,tl=ti.length,th=ta,tc=0,tu=0,tp=ti[tl-1].nextSibling,td=null;for(;tc<tl||tu<th;)if(ti[tc]===to[tu])tc++,tu++;else{for(;ti[tl-1]===to[th-1];)tl--,th--;if(tl===tc)for(var tf=th<ta?tu?to[tu-1].nextSibling:to[th-tu]:tp;tu<th;)tn.insertBefore(to[tu++],tf);else if(th===tu)for(;tc<tl;)td&&td.has(ti[tc])||ti[tc].remove(),tc++;else if(ti[tc]===to[th-1]&&to[tu]===ti[tl-1]){var tg=ti[--tl].nextSibling;tn.insertBefore(to[tu++],ti[tc++].nextSibling),tn.insertBefore(to[--th],tg),ti[tl]=to[th]}else{if(!td){td=new Map;let tb=tu;for(;tb<th;)td.set(to[tb],tb++)}var t$=td.get(ti[tc]);if(null!=t$){if(tu<t$&&t$<th){let ty,tm=tc,tv=1;for(;++tm<tl&&tm<th&&null!=(ty=td.get(ti[tm]))&&ty===t$+tv;)tv++;if(tv>t$-tu)for(var tw=ti[tc];tu<t$;)tn.insertBefore(to[tu++],tw);else tn.replaceChild(to[tu++],ti[tc++])}else tc++}else ti[tc++].remove()}}}(tn,to,tp):(to&&mt(tn),yt(tn,tp));to=tp}else if(ti instanceof Node){if(Array.isArray(to)){if(tc)return to=mt(tn,to,ta,ti);mt(tn,to,null,ti)}else null!=to&&""!==to&&tn.firstChild?tn.replaceChild(ti,tn.firstChild):tn.appendChild(ti);to=ti}else console.warn("Unrecognized value. Skipped inserting",ti)}}return to}function bt(tn,ti,to,ta){let tl=!1;for(let th=0,tc=ti.length;th<tc;th++){let tu=ti[th],tp=to&&to[th];if(tu instanceof Node)tn.push(tu);else if(null!=tu&&!0!==tu&&!1!==tu){if(Array.isArray(tu))tl=bt(tn,tu,tp)||tl;else if("function"==typeof tu){if(ta){for(;"function"==typeof tu;)tu=tu();tl=bt(tn,Array.isArray(tu)?tu:[tu],Array.isArray(tp)?tp:[tp])||tl}else tn.push(tu),tl=!0}else{var td=String(tu);tp&&3===tp.nodeType?(tp.data=td,tn.push(tp)):tn.push(document.createTextNode(td))}}}return tl}function yt(tn,ti,to=null){for(let ta=0,tl=ti.length;ta<tl;ta++)tn.insertBefore(ti[ta],to)}function mt(tn,ti,to,ta){if(void 0===to)return tn.textContent="";var tl=ta||document.createTextNode("");if(ti.length){let th=!1;for(let tc=ti.length-1;0<=tc;tc--){var tu,tp=ti[tc];tl!==tp?(tu=tp.parentNode===tn,th||tc?tu&&tp.remove():tu?tn.replaceChild(tl,tp):tn.insertBefore(tl,to)):th=!0}}else tn.insertBefore(tl,to);return[tl]}function wt(tn){return(ti,to)=>{let ta=to.element;return k(tl=>{let th=function(tn){var ti=Object.keys(tn),to={};for(let ta=0;ta<ti.length;ta++){let[tl,th]=_(tn[ti[ta]]);Object.defineProperty(to,ti[ta],{get:tl,set(tn){th(()=>tn)}})}return to}(ti);ta.addPropertyChangedCallback((tn,ti)=>th[tn]=ti),ta.addReleaseCallback(()=>{ta.renderRoot.textContent="",tl()});var tc=tn(th,to);return ut(ta.renderRoot,tc)},function(tn){if(tn.assignedSlot&&tn.assignedSlot._$owner)return tn.assignedSlot._$owner;let ti=tn.parentNode;for(;ti&&!ti._$owner&&(!ti.assignedSlot||!ti.assignedSlot._$owner);)ti=ti.parentNode;return(ti&&ti.assignedSlot?ti.assignedSlot:tn)._$owner}(ta))}}function vt(tn,ti,to){return 2===arguments.length&&(to=ti,ti={}),l(tn,ti)(wt(to))}let xt={chatflowid:"",apiHost:void 0,chatflowConfig:void 0,theme:void 0};var n,o,kt,_t,Ct='/*! tailwindcss v3.3.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.bottom-20{bottom:80px}.bottom-24{bottom:96px}.left-0{left:0}.top-0{top:0}.z-10{z-index:10}.my-2{margin-bottom:8px;margin-top:8px}.-ml-1{margin-left:-4px}.mb-2{margin-bottom:8px}.ml-1{margin-left:4px}.ml-2{margin-left:8px}.mr-1{margin-right:4px}.mr-2{margin-right:8px}.mr-3{margin-right:12px}.block{display:block}.flex{display:flex}.hidden{display:none}.h-10{height:40px}.h-12{height:48px}.h-16{height:64px}.h-2{height:8px}.h-32{height:128px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-9{height:36px}.h-full{height:100%}.max-h-\\[704px\\]{max-height:704px}.min-h-full{min-height:100%}.w-10{width:40px}.w-12{width:48px}.w-16{width:64px}.w-2{width:8px}.w-5{width:20px}.w-6{width:24px}.w-7{width:28px}.w-9{width:36px}.w-full{width:100%}.min-w-full{min-width:100%}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.border{border-width:1px}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-4{padding:16px}.px-2{padding-left:8px;padding-right:8px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.py-1{padding-bottom:4px;padding-top:4px}.py-2{padding-bottom:8px;padding-top:8px}.py-4{padding-bottom:16px;padding-top:16px}.pt-10{padding-top:40px}.text-left{text-align:left}.text-center{text-align:center}.text-base{font-size:16px;line-height:24px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.font-semibold{font-weight:600}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-md,.shadow-xl{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--chatbot-container-bg-image:none;--chatbot-container-bg-color:transparent;--chatbot-container-font-family:"Open Sans";--chatbot-button-bg-color:#0042da;--chatbot-button-color:#fff;--chatbot-host-bubble-bg-color:#f7f8ff;--chatbot-host-bubble-color:#303235;--chatbot-guest-bubble-bg-color:#3b81f6;--chatbot-guest-bubble-color:#fff;--chatbot-input-bg-color:#fff;--chatbot-input-color:#303235;--chatbot-input-placeholder-color:#9095a0;--chatbot-header-bg-color:#fff;--chatbot-header-color:#303235;--chatbot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}a{color:#16bed7;font-weight:500}a:hover{text-decoration:underline}pre{word-wrap:break-word;font-size:13px;margin:5px;overflow:auto;padding:5px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;width:auto}.string{color:green}.number{color:#ff8c00}.boolean{color:blue}.null{color:#f0f}.key{color:#002b36}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--chatbot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}.slate-a{text-decoration:underline}.slate-html-container>div{min-height:24px}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:#9095a0!important;opacity:1!important}.text-input::placeholder{color:#9095a0!important;opacity:1!important}.chatbot-container{background-color:var(--chatbot-container-bg-color);background-image:var(--chatbot-container-bg-image);font-family:Open Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.chatbot-button{background-color:#0042da;border:1px solid #0042da;border-radius:var(--chatbot-border-radius);color:var(--chatbot-button-color)}.chatbot-button.selectable{border:1px solid #0042da}.chatbot-button.selectable,.chatbot-host-bubble{background-color:#f7f8ff;color:var(--chatbot-host-bubble-color)}.chatbot-host-bubble>.bubble-typing{background-color:#f7f8ff;border:var(--chatbot-host-bubble-border);border-radius:6px}.chatbot-host-bubble iframe,.chatbot-host-bubble img,.chatbot-host-bubble video{border-radius:var(--chatbot-border-radius)}.chatbot-guest-bubble{background-color:#3b81f6;border-radius:6px;color:var(--chatbot-guest-bubble-color)}.chatbot-input{background-color:#fff;border-radius:var(--chatbot-border-radius);box-shadow:0 2px 6px -1px rgba(0,0,0,.1);color:#303235}.chatbot-input-error-message{color:#303235}.chatbot-button>.send-icon{fill:var(--chatbot-button-color)}.chatbot-chat-view{max-width:800px}.ping span{background-color:#0042da}.rating-icon-container svg{stroke:#0042da;fill:#f7f8ff;height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:#0042da}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{background-color:#0042da;border-radius:var(--chatbot-border-radius)}.total-files-indicator{background-color:#0042da;color:var(--chatbot-button-color);font-size:10px}.chatbot-upload-input{transition:border-color .1s ease-out}.chatbot-upload-input.dragging-over{border-color:#0042da}.secondary-button{background-color:#f7f8ff;border-radius:var(--chatbot-border-radius);color:var(--chatbot-host-bubble-color)}.chatbot-country-select{color:#303235}.chatbot-country-select,.chatbot-date-input{background-color:#fff;border-radius:var(--chatbot-border-radius)}.chatbot-date-input{color:#303235;color-scheme:light}.chatbot-popup-blocked-toast{border-radius:var(--chatbot-border-radius)}.messagelist{border-radius:.5rem;height:100%;overflow-y:scroll;width:100%}.messagelistloading{display:flex;justify-content:center;margin-top:1rem;width:100%}.usermessage{padding:1rem 1.5rem}.usermessagewaiting-light{background:linear-gradient(270deg,#ede7f6,#e3f2fd,#ede7f6);background-position:-100% 0;background-size:200% 200%}.usermessagewaiting-dark,.usermessagewaiting-light{animation:loading-gradient 2s ease-in-out infinite;animation-direction:alternate;animation-name:loading-gradient;padding:1rem 1.5rem}.usermessagewaiting-dark{background:linear-gradient(270deg,#2e2352,#1d3d60,#2e2352);background-position:-100% 0;background-size:200% 200%;color:#ececf1}@keyframes loading-gradient{0%{background-position:-100% 0}to{background-position:100% 0}}.apimessage{animation:fadein .5s;padding:1rem 1.5rem}@keyframes fadein{0%{opacity:0}to{opacity:1}}.apimessage,.usermessage,.usermessagewaiting{display:flex}.markdownanswer{line-height:1.75}.markdownanswer a:hover{opacity:.8}.markdownanswer a{color:#16bed7;font-weight:500}.markdownanswer code{color:#15cb19;font-weight:500;white-space:pre-wrap!important}.markdownanswer ol,.markdownanswer ul{margin:1rem}.boticon,.usericon{border-radius:1rem;margin-right:1rem}.markdownanswer h1,.markdownanswer h2,.markdownanswer h3{font-size:inherit}.center{flex-direction:column;padding:10px;position:relative}.center,.cloud{align-items:center;display:flex;justify-content:center}.cloud{border-radius:.5rem;height:calc(100% - 50px);width:400px}input{background-color:transparent;border:none;font-family:Poppins,sans-serif;padding:10px}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:640px){.sm\\:right-5{right:20px}.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:w-\\[400px\\]{width:400px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:512px}.sm\\:p-0{padding:0}}';let St=tn=>null==tn,At=tn=>null!=tn,Et=async tn=>{try{var ti,to=await fetch("string"==typeof tn?tn:tn.url,{method:"string"==typeof tn?"GET":tn.method,mode:"cors",headers:"string"!=typeof tn&&At(tn.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof tn&&At(tn.body)?JSON.stringify(tn.body):void 0});let ta;var tl=to.headers.get("Content-Type");if(ta=tl&&tl.includes("application/json")?await to.json():await to.text(),to.ok)return{data:ta};{let th;throw th="object"==typeof ta&&"error"in ta?ta.error:ta||to.statusText}}catch(tc){return console.error(tc),{error:tc}}},Tt=ot('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),Pt=ot('<img alt="Bubble button icon">'),Rt=ot('<button part="button"><svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),$t=tn=>{{let ti=Rt(),to=ti.firstChild;return ti.$$click=()=>tn.toggleBot(),ti.style.setProperty("z-index","42424242"),ut(ti,G(K,{get when(){return St(tn.customIconSrc)},keyed:!0,get children(){let ta=Tt();return C(ti=>{var to=tn.iconColor??"white",tl="stroke-2 fill-transparent absolute duration-200 transition "+(tn.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100")+("large"===tn.size?" w-9":" w-7");return to!==ti._v$&&(null!=(ti._v$=to)?ta.style.setProperty("stroke",to):ta.style.removeProperty("stroke")),tl!==ti._v$2&&at(ta,"class",ti._v$2=tl),ti},{_v$:void 0,_v$2:void 0}),ta}}),to),ut(ti,G(K,{get when(){return tn.customIconSrc},get children(){let tl=Pt();return C(ti=>{var to=tn.customIconSrc,ta="rounded-full object-cover"+(tn.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100")+("large"===tn.size?" w-9 h-9":" w-7 h-7");return to!==ti._v$3&&at(tl,"src",ti._v$3=to),ta!==ti._v$4&&lt(tl,ti._v$4=ta),ti},{_v$3:void 0,_v$4:void 0}),tl}}),to),C(ta=>{var tl="fixed shadow-md rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in"+("large"===tn.size?" w-16 h-16":" w-12 h-12"),th=tn.backgroundColor??"#3B81F6",tc=tn.right?tn.right.toString()+"px":"20px",tu=tn.bottom?tn.bottom.toString()+"px":"20px",tp=tn.iconColor??"white",td="absolute duration-200 transition "+(tn.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0")+("large"===tn.size?" w-9":" w-7");return tl!==ta._v$5&&lt(ti,ta._v$5=tl),th!==ta._v$6&&(null!=(ta._v$6=th)?ti.style.setProperty("background-color",th):ti.style.removeProperty("background-color")),tc!==ta._v$7&&(null!=(ta._v$7=tc)?ti.style.setProperty("right",tc):ti.style.removeProperty("right")),tu!==ta._v$8&&(null!=(ta._v$8=tu)?ti.style.setProperty("bottom",tu):ti.style.removeProperty("bottom")),tp!==ta._v$9&&(null!=(ta._v$9=tp)?to.style.setProperty("fill",tp):to.style.removeProperty("fill")),td!==ta._v$10&&at(to,"class",ta._v$10=td),ta},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),ti}},Ot=(it(["click"]),({chatflowid:tn,apiHost:ti="http://localhost:3000",body:to})=>Et({method:"POST",url:ti+"/api/v1/prediction/"+tn,body:to})),Bt=ot('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),Lt=tn=>{var ti,to;let[ta,tl]=X(tn,["ref","onInput"]);return(ti=Bt()).$$input=tn=>ta.onInput(tn.currentTarget.value),"function"==typeof(to=tn.ref)?ht(to,ti):tn.ref=ti,ct(ti,Y({get style(){return{"font-size":tn.fontSize?tn.fontSize+"px":"16px"}}},tl),!1,!1),ti},Nt=(it(["input"]),ot('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="19px"><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">')),jt=tn=>{var ti;return ct(ti=Nt(),Y({get style(){return{fill:tn.color??"#3B81F6"}}},tn),!0,!0),ti},zt=ot('<button type="submit">'),Mt=ot('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),It=tn=>{var ti;return ct(ti=zt(),Y({get disabled(){return tn.isDisabled||tn.isLoading}},tn,{get class(){return"py-2 px-4 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+tn.class},style:{background:"transparent",border:"none"}}),!1,!0),ut(ti,G(K,{get when(){return!tn.isLoading},get fallback(){return G(qt,{class:"text-white"})},get children(){return G(jt,{get color(){return tn.sendButtonColor},get class(){return"send-icon flex "+(tn.disableIcon?"hidden":"")}})}})),ti},qt=tn=>{var ti;return ct(ti=Mt(),Y(tn,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+tn.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),ti},[Dt,Ft]=_(),Ut=ot("<span>Send"),Gt=ot('<div class="flex items-end justify-between chatbot-input" data-testid="input">'),Ht=tn=>{let[ti,to]=_(tn.defaultValue??""),ta,tl=tn=>to(tn),th=()=>{""!==ti()&&ta?.reportValidity()&&tn.onSubmit(ti()),to("")},tc=tn=>{var ti=tn.isComposing||229===tn.keyCode;"Enter"!==tn.key||ti||th()};T(()=>{!Dt()&&ta&&ta.focus()});{let tu=Gt();return tu.$$keydown=tc,tu.style.setProperty("border-top","1px solid #eeeeee"),tu.style.setProperty("position","absolute"),tu.style.setProperty("left","20px"),tu.style.setProperty("right","20px"),tu.style.setProperty("bottom","40px"),tu.style.setProperty("margin","auto"),tu.style.setProperty("z-index","1000"),ut(tu,G(Lt,{ref(tn){"function"==typeof ta?ta(tn):ta=tn},onInput:tl,get value(){return ti()},get fontSize(){return tn.fontSize},get placeholder(){return tn.placeholder??"Type your question"}}),null),ut(tu,G(It,{get sendButtonColor(){return tn.sendButtonColor},type:"button",get isDisabled(){return""===ti()},class:"my-2 ml-2","on:click":th,get children(){var tp=Ut();return tp.style.setProperty("font-family","Poppins, sans-serif"),tp}}),null),C(ti=>{var to=tn.backgroundColor??"#ffffff",ta=tn.textColor??"#303235";return to!==ti._v$&&(null!=(ti._v$=to)?tu.style.setProperty("background-color",to):tu.style.removeProperty("background-color")),ta!==ti._v$2&&(null!=(ti._v$2=ta)?tu.style.setProperty("color",ta):tu.style.removeProperty("color")),ti},{_v$:void 0,_v$2:void 0}),tu}},Wt=(it(["keydown"]),ot('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></circle></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5">')),Vt=()=>{{let tn=Wt(),ti=tn.firstChild;return C(to=>{var ta="flex justify-center items-center rounded-full text-white relative "+(Dt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),tl="absolute top-0 left-0 "+(Dt()?" w-6 h-6 text-sm":"w-full h-full text-xl");return ta!==to._v$&&lt(tn,to._v$=ta),tl!==to._v$2&&at(ti,"class",to._v$2=tl),to},{_v$:void 0,_v$2:void 0}),tn}},Yt=ot('<figure><img alt="Bot avatar" class="rounded-full object-cover w-full h-full">'),Xt=tn=>{let[ti,to]=_(tn.initialAvatarSrc);return S(()=>{ti()?.startsWith("{{")&&tn.initialAvatarSrc?.startsWith("http")&&to(tn.initialAvatarSrc)}),G(K,{get when(){var ta;return null!=(ta=ti())&&""!==ta},keyed:!0,get fallback(){return G(Vt,{})},get children(){let tl=Yt(),th=tl.firstChild;return C(tn=>{var to="flex justify-center items-center rounded-full text-white relative flex-shrink-0 "+(Dt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),ta=ti();return to!==tn._v$&&lt(tl,tn._v$=to),ta!==tn._v$2&&at(th,"src",tn._v$2=ta),tn},{_v$:void 0,_v$2:void 0}),tl}})};class Jt{source;flags;constructor(tn,ti=""){this.source=tn.source,this.flags=ti}setGroup(tn,ti){let to="string"==typeof ti?ti:ti.source;return to=to.replace(/(^|[^\[])\^/g,"$1"),this.source=this.source.replace(tn,to),this}getRegexp(){return RegExp(this.source,this.flags)}}let Kt=/[&<>"']/,Qt=/[&<>"']/g,Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=/[<>"']|&(?!#?\w+;)/,ee=/[<>"']|&(?!#?\w+;)/g;function re(tn,ti){if(ti){if(Kt.test(tn))return tn.replace(Qt,tn=>Zt[tn])}else if(te.test(tn))return tn.replace(ee,tn=>Zt[tn]);return tn}function se(tn){return tn.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(tn,ti){return"colon"===(ti=ti.toLowerCase())?":":"#"===ti.charAt(0)?"x"===ti.charAt(1)?String.fromCharCode(parseInt(ti.substring(2),16)):String.fromCharCode(+ti.substring(1)):""})}!function(tn){tn[tn.space=1]="space",tn[tn.text=2]="text",tn[tn.paragraph=3]="paragraph",tn[tn.heading=4]="heading",tn[tn.listStart=5]="listStart",tn[tn.listEnd=6]="listEnd",tn[tn.looseItemStart=7]="looseItemStart",tn[tn.looseItemEnd=8]="looseItemEnd",tn[tn.listItemStart=9]="listItemStart",tn[tn.listItemEnd=10]="listItemEnd",tn[tn.blockquoteStart=11]="blockquoteStart",tn[tn.blockquoteEnd=12]="blockquoteEnd",tn[tn.code=13]="code",tn[tn.table=14]="table",tn[tn.html=15]="html",tn[tn.hr=16]="hr"}(kt=kt||{});class ne{gfm=!0;tables=!0;breaks=!1;pedantic=!1;sanitize=!1;sanitizer;mangle=!0;smartLists=!1;silent=!1;highlight;langPrefix="lang-";smartypants=!1;headerPrefix="";renderer;xhtml=!1;escape=re;unescape=se;isNoP}class oe{options;constructor(tn){this.options=tn||le.options}code(tn,ti,to,ta){this.options.highlight&&null!=(tl=this.options.highlight(tn,ti))&&tl!==tn&&(to=!0,tn=tl);var tl=to?tn:this.options.escape(tn,!0);return ti?`
<pre><code class="${this.options.langPrefix+this.options.escape(ti,!0)}">${tl}
</code></pre>
`:`
<pre><code>${tl}
</code></pre>
`}blockquote(tn){return`<blockquote>
${tn}</blockquote>
`}html(tn){return tn}heading(tn,ti,to){return`<h${ti} id="${this.options.headerPrefix+to.toLowerCase().replace(/[^\w]+/g,"-")}">${tn}</h${ti}>
`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(tn,ti){return`
<${ti=ti?"ol":"ul"}>
${tn}</${ti}>
`}listitem(tn){return"<li>"+tn+"</li>\n"}paragraph(tn){return"<p>"+tn+"</p>\n"}table(tn,ti){return`
<table>
<thead>
${tn}</thead>
<tbody>
${ti}</tbody>
</table>
`}tablerow(tn){return"<tr>\n"+tn+"</tr>\n"}tablecell(tn,ti){var to=ti.header?"th":"td";return(ti.align?"<"+to+' style="text-align:'+ti.align+'">':"<"+to+">")+tn+"</"+to+">\n"}strong(tn){return"<strong>"+tn+"</strong>"}em(tn){return"<em>"+tn+"</em>"}codespan(tn){return"<code>"+tn+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(tn){return"<del>"+tn+"</del>"}link(tn,ti,to){if(this.options.sanitize){let ta;try{ta=decodeURIComponent(this.options.unescape(tn)).replace(/[^\w:]/g,"").toLowerCase()}catch(tl){return to}if(0===ta.indexOf("javascript:")||0===ta.indexOf("vbscript:")||0===ta.indexOf("data:"))return to}let th='<a href="'+tn+'"';return ti&&(th+=' title="'+ti+'"'),th+">"+to+"</a>"}image(tn,ti,to){let ta='<img src="'+tn+'" alt="'+to+'"';return ti&&(ta+=' title="'+ti+'"'),ta+(this.options.xhtml?"/>":">")}text(tn){return tn}}class ie{staticThis;links;options;static rulesBase=null;static rulesPedantic=null;static rulesGfm=null;static rulesBreaks=null;rules;renderer;inLink;hasRulesGfm;ruleCallbacks;constructor(tn,ti,to=le.options,ta){if(this.staticThis=tn,this.links=ti,this.options=to,this.renderer=ta||this.options.renderer||new oe(this.options),!this.links)throw Error("InlineLexer requires 'links' parameter.");this.setRules()}static output(tn,ti,to){return new this(this,ti,to).output(tn)}static getRulesBase(){var tn;return this.rulesBase||((tn={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/}).link=new Jt(tn.link).setGroup("inside",tn._inside).setGroup("href",tn._href).getRegexp(),tn.reflink=new Jt(tn.reflink).setGroup("inside",tn._inside).getRegexp(),this.rulesBase=tn)}static getRulesPedantic(){return this.rulesPedantic||(this.rulesPedantic={...this.getRulesBase(),strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/})}static getRulesGfm(){var tn,ti,to;return this.rulesGfm||(tn=this.getRulesBase(),ti=new Jt(tn.escape).setGroup("])","~|])").getRegexp(),to=new Jt(tn.text).setGroup("]|","~]|").setGroup("|","|https?://|").getRegexp(),this.rulesGfm={...tn,escape:ti,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:to})}static getRulesBreaks(){var tn,ti;return this.rulesBreaks||(tn=this.getRulesGfm(),ti=this.getRulesGfm(),this.rulesBreaks={...ti,br:new Jt(tn.br).setGroup("{2,}","*").getRegexp(),text:new Jt(ti.text).setGroup("{2,}","*").getRegexp()})}setRules(){this.options.gfm?this.options.breaks?this.rules=this.staticThis.getRulesBreaks():this.rules=this.staticThis.getRulesGfm():this.options.pedantic?this.rules=this.staticThis.getRulesPedantic():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.url}output(tn){let ti,to="";for(;tn;)if(ti=this.rules.escape.exec(tn))tn=tn.substring(ti[0].length),to+=ti[1];else if(ti=this.rules.autolink.exec(tn)){let ta,tl;tn=tn.substring(ti[0].length),tl="@"===ti[2]?(ta=this.options.escape(":"===ti[1].charAt(6)?this.mangle(ti[1].substring(7)):this.mangle(ti[1])),this.mangle("mailto:")+ta):ta=this.options.escape(ti[1]),to+=this.renderer.link(tl,null,ta)}else if(!this.inLink&&this.hasRulesGfm&&(ti=this.rules.url.exec(tn))){tn=tn.substring(ti[0].length);var th=this.options.escape(ti[1]);to+=this.renderer.link(th,null,th)}else if(ti=this.rules.tag.exec(tn))!this.inLink&&/^<a /i.test(ti[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(ti[0])&&(this.inLink=!1),tn=tn.substring(ti[0].length),to+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ti[0]):this.options.escape(ti[0]):ti[0];else if(ti=this.rules.link.exec(tn))tn=tn.substring(ti[0].length),this.inLink=!0,to+=this.outputLink(ti,{href:ti[2],title:ti[3]}),this.inLink=!1;else if(ti=(ti=this.rules.reflink.exec(tn))||this.rules.nolink.exec(tn)){tn=tn.substring(ti[0].length),th=(ti[2]||ti[1]).replace(/\s+/g," ");var tc=this.links[th.toLowerCase()];tc&&tc.href?(this.inLink=!0,to+=this.outputLink(ti,tc),this.inLink=!1):(to+=ti[0].charAt(0),tn=ti[0].substring(1)+tn)}else if(ti=this.rules.strong.exec(tn))tn=tn.substring(ti[0].length),to+=this.renderer.strong(this.output(ti[2]||ti[1]));else if(ti=this.rules.em.exec(tn))tn=tn.substring(ti[0].length),to+=this.renderer.em(this.output(ti[2]||ti[1]));else if(ti=this.rules.code.exec(tn))tn=tn.substring(ti[0].length),to+=this.renderer.codespan(this.options.escape(ti[2].trim(),!0));else if(ti=this.rules.br.exec(tn))tn=tn.substring(ti[0].length),to+=this.renderer.br();else if(this.hasRulesGfm&&(ti=this.rules.del.exec(tn)))tn=tn.substring(ti[0].length),to+=this.renderer.del(this.output(ti[1]));else if(ti=this.rules.text.exec(tn))tn=tn.substring(ti[0].length),to+=this.renderer.text(this.options.escape(this.smartypants(ti[0])));else if(tn)throw Error("Infinite loop on byte: "+tn.charCodeAt(0));return to}outputLink(tn,ti){var to=this.options.escape(ti.href);return ti=ti.title?this.options.escape(ti.title):null,"!"!==tn[0].charAt(0)?this.renderer.link(to,ti,this.output(tn[1])):this.renderer.image(to,ti,this.options.escape(tn[1]))}smartypants(tn){return this.options.smartypants?tn.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/([{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/([{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):tn}mangle(tn){if(!this.options.mangle)return tn;let ti="";var to=tn.length;for(let ta=0;ta<to;ta++){let tl;.5<Math.random()&&(tl="x"+tn.charCodeAt(ta).toString(16)),ti+="&#"+tl+";"}return ti}}class ae{simpleRenderers=[];tokens;token;inlineLexer;options;renderer;line=0;constructor(tn){this.tokens=[],this.token=null,this.options=tn||le.options,this.renderer=this.options.renderer||new oe(this.options)}static parse(tn,ti,to){return new this(to).parse(ti,tn)}parse(tn,ti){this.inlineLexer=new ie(ie,tn,this.options,this.renderer),this.tokens=ti.reverse();let to="";for(;this.next();)to+=this.tok();return to}debug(tn,ti){this.inlineLexer=new ie(ie,tn,this.options,this.renderer),this.tokens=ti.reverse();let to="";for(;this.next();){var ta=this.tok();this.token.line=this.line+=ta.split("\n").length-1,to+=ta}return to}next(){return this.token=this.tokens.pop()}getNextElement(){return this.tokens[this.tokens.length-1]}parseText(){let tn=this.token.text;for(var ti;(ti=this.getNextElement())&&ti.type==kt.text;)tn+="\n"+this.next().text;return this.inlineLexer.output(tn)}tok(){switch(this.token.type){case kt.space:return"";case kt.paragraph:return this.renderer.paragraph(this.inlineLexer.output(this.token.text));case kt.text:return this.options.isNoP?this.parseText():this.renderer.paragraph(this.parseText());case kt.heading:return this.renderer.heading(this.inlineLexer.output(this.token.text),this.token.depth,this.token.text);case kt.listStart:{let tn="";for(var ti=this.token.ordered;this.next().type!=kt.listEnd;)tn+=this.tok();return this.renderer.list(tn,ti)}case kt.listItemStart:{let to="";for(;this.next().type!=kt.listItemEnd;)to+=this.token.type==kt.text?this.parseText():this.tok();return this.renderer.listitem(to)}case kt.looseItemStart:{let ta="";for(;this.next().type!=kt.listItemEnd;)ta+=this.tok();return this.renderer.listitem(ta)}case kt.code:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.meta);case kt.table:{ti="";let tl,th="";tl="";for(let tc=0;tc<this.token.header.length;tc++){var tu={header:!0,align:this.token.align[tc]},tp=this.inlineLexer.output(this.token.header[tc]);tl+=this.renderer.tablecell(tp,tu)}for(let td of(ti+=this.renderer.tablerow(tl),this.token.cells)){tl="";for(let tf=0;tf<td.length;tf++)tl+=this.renderer.tablecell(this.inlineLexer.output(td[tf]),{header:!1,align:this.token.align[tf]});th+=this.renderer.tablerow(tl)}return this.renderer.table(ti,th)}case kt.blockquoteStart:{let tg="";for(;this.next().type!=kt.blockquoteEnd;)tg+=this.tok();return this.renderer.blockquote(tg)}case kt.hr:return this.renderer.hr();case kt.html:return ti=this.token.pre||this.options.pedantic?this.token.text:this.inlineLexer.output(this.token.text),this.renderer.html(ti);default:if(this.simpleRenderers.length){for(let tb=0;tb<this.simpleRenderers.length;tb++)if(this.token.type=="simpleRule"+(tb+1))return this.simpleRenderers[tb].call(this.renderer,this.token.execArr)}if(ti=`Token with "${this.token.type}" type was not found.`,!this.options.silent)throw Error(ti);console.log(ti)}}}class le{static options=new ne;static simpleRenderers=[];static setOptions(tn){return Object.assign(this.options,tn),this}static setBlockRule(tn,ti=()=>""){return ce.simpleRules.push(tn),this.simpleRenderers.push(ti),this}static parse(tn,ti){try{ti={...this.options,...ti};var{tokens:to,links:ta}=this.callBlockLexer(tn,ti);return this.callParser(to,ta,ti)}catch(tl){return this.callMe(tl)}}static debug(tn,ti=this.options){var{tokens:tn,links:to}=this.callBlockLexer(tn,ti);let ta=tn.slice();return(ti=new ae(ti)).simpleRenderers=this.simpleRenderers,ti=ti.debug(to,tn),{tokens:ta=ta.map(tn=>{tn.type=kt[tn.type]||tn.type;var ti=tn.line;return delete tn.line,ti?{line:ti,...tn}:tn}),links:to,result:ti}}static callBlockLexer(tn="",ti){if("string"!=typeof tn)throw Error(`Expected that the 'src' parameter would have a 'string' type, got '${typeof tn}'`);return tn=tn.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n").replace(/^ +$/gm,""),ce.lex(tn,ti,!0)}static callParser(tn,ti,to){var ta;return this.simpleRenderers.length?((ta=new ae(to)).simpleRenderers=this.simpleRenderers,ta.parse(ti,tn)):ae.parse(tn,ti,to)}static callMe(tn){if(tn.message+="\nPlease report this to https://github.com/ts-stack/markdown",this.options.silent)return"<p>An error occured:</p><pre>"+this.options.escape(tn.message+"",!0)+"</pre>";throw tn}}class ce{staticThis;static simpleRules=[];static rulesBase=null;static rulesGfm=null;static rulesTables=null;rules;options;links={};tokens=[];hasRulesGfm;hasRulesTables;constructor(tn,ti){this.staticThis=tn,this.options=ti||le.options,this.setRules()}static lex(tn,ti,to,ta){return new this(this,ti).getTokens(tn,to,ta)}static getRulesBase(){var tn,ti;return this.rulesBase||((tn={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/}).item=new Jt(tn.item,"gm").setGroup(/bull/g,tn.bullet).getRegexp(),tn.list=new Jt(tn.list).setGroup(/bull/g,tn.bullet).setGroup("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))").setGroup("def","\\n+(?="+tn.def.source+")").getRegexp(),ti="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",tn.html=new Jt(tn.html).setGroup("comment",/<!--[\s\S]*?-->/).setGroup("closed",/<(tag)[\s\S]+?<\/\1>/).setGroup("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/).setGroup(/tag/g,ti).getRegexp(),tn.paragraph=new Jt(tn.paragraph).setGroup("hr",tn.hr).setGroup("heading",tn.heading).setGroup("lheading",tn.lheading).setGroup("blockquote",tn.blockquote).setGroup("tag","<"+ti).setGroup("def",tn.def).getRegexp(),this.rulesBase=tn)}static getRulesGfm(){var tn,ti,to,ta;return this.rulesGfm||(to=(ti={...tn=this.getRulesBase(),fences:/^ *(`{3,}|~{3,})[ \.]*((\S+)? *[^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}).fences.source.replace("\\1","\\2"),ta=tn.list.source.replace("\\1","\\3"),ti.paragraph=new Jt(tn.paragraph).setGroup("(?!",`(?!${to}|${ta}|`).getRegexp(),this.rulesGfm=ti)}static getRulesTable(){return this.rulesTables||(this.rulesTables={...this.getRulesGfm(),nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/})}setRules(){this.options.gfm?this.options.tables?this.rules=this.staticThis.getRulesTable():this.rules=this.staticThis.getRulesGfm():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.fences,this.hasRulesTables=void 0!==this.rules.table}getTokens(tn,ti,to){let ta,tl=tn;t:for(;tl;)if((ta=this.rules.newline.exec(tl))&&(tl=tl.substring(ta[0].length),1<ta[0].length)&&this.tokens.push({type:kt.space}),ta=this.rules.code.exec(tl)){tl=tl.substring(ta[0].length);var th=ta[0].replace(/^ {4}/gm,"");this.tokens.push({type:kt.code,text:this.options.pedantic?th:th.replace(/\n+$/,"")})}else if(this.hasRulesGfm&&(ta=this.rules.fences.exec(tl)))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.code,meta:ta[2],lang:ta[3],text:ta[4]||""});else if(ta=this.rules.heading.exec(tl))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.heading,depth:ta[1].length,text:ta[2]});else if(ti&&this.hasRulesTables&&(ta=this.rules.nptable.exec(tl))){tl=tl.substring(ta[0].length);var tc={type:kt.table,header:ta[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:ta[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let tu=0;tu<tc.align.length;tu++)/^ *-+: *$/.test(tc.align[tu])?tc.align[tu]="right":/^ *:-+: *$/.test(tc.align[tu])?tc.align[tu]="center":/^ *:-+ *$/.test(tc.align[tu])?tc.align[tu]="left":tc.align[tu]=null;var tp=ta[3].replace(/\n$/,"").split("\n");for(let td=0;td<tp.length;td++)tc.cells[td]=tp[td].split(/ *\| */);this.tokens.push(tc)}else if(ta=this.rules.lheading.exec(tl))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.heading,depth:"="===ta[2]?1:2,text:ta[1]});else if(ta=this.rules.hr.exec(tl))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.hr});else if(ta=this.rules.blockquote.exec(tl))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.blockquoteStart}),th=ta[0].replace(/^ *> ?/gm,""),this.getTokens(th),this.tokens.push({type:kt.blockquoteEnd});else if(ta=this.rules.list.exec(tl)){tl=tl.substring(ta[0].length);var tf,tg=ta[2],tb=(this.tokens.push({type:kt.listStart,ordered:1<tg.length}),ta[0].match(this.rules.item)),t$=tb.length;let ty,tm=!1;for(let tv=0;tv<t$;tv++){let tw=tb[tv];tf=tw.length,-1!==(tw=tw.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(tf-=tw.length,tw=this.options.pedantic?tw.replace(/^ {1,4}/gm,""):tw.replace(RegExp("^ {1,"+tf+"}","gm"),"")),!this.options.smartLists||tv===t$-1||tg===(tf=this.staticThis.getRulesBase().bullet.exec(tb[tv+1])[0])||1<tg.length&&1<tf.length||(tl=tb.slice(tv+1).join("\n")+tl,tv=t$-1),ty=tm||/\n\n(?!\s*$)/.test(tw),tv!==t$-1&&(tm="\n"===tw.charAt(tw.length-1),ty=ty||tm),this.tokens.push({type:ty?kt.looseItemStart:kt.listItemStart}),this.getTokens(tw,!1,to),this.tokens.push({type:kt.listItemEnd})}this.tokens.push({type:kt.listEnd})}else if(ta=this.rules.html.exec(tl)){tl=tl.substring(ta[0].length);var tk=ta[1];this.tokens.push({type:this.options.sanitize?kt.paragraph:kt.html,pre:!this.options.sanitizer&&("pre"===tk||"script"===tk||"style"===tk),text:ta[0]})}else if(ti&&(ta=this.rules.def.exec(tl)))tl=tl.substring(ta[0].length),this.links[ta[1].toLowerCase()]={href:ta[2],title:ta[3]};else if(ti&&this.hasRulesTables&&(ta=this.rules.table.exec(tl))){tl=tl.substring(ta[0].length);var tx={type:kt.table,header:ta[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:ta[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let t_=0;t_<tx.align.length;t_++)/^ *-+: *$/.test(tx.align[t_])?tx.align[t_]="right":/^ *:-+: *$/.test(tx.align[t_])?tx.align[t_]="center":/^ *:-+ *$/.test(tx.align[t_])?tx.align[t_]="left":tx.align[t_]=null;var t8=ta[3].replace(/(?: *\| *)?\n$/,"").split("\n");for(let t0=0;t0<t8.length;t0++)tx.cells[t0]=t8[t0].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(tx)}else{if(this.staticThis.simpleRules.length){var tC=this.staticThis.simpleRules;for(let tS=0;tS<tC.length;tS++)if(ta=tC[tS].exec(tl)){tl=tl.substring(ta[0].length);var t1="simpleRule"+(tS+1);this.tokens.push({type:t1,execArr:ta});continue t}}if(ti&&(ta=this.rules.paragraph.exec(tl)))tl=tl.substring(ta[0].length),"\n"===ta[1].slice(-1)?this.tokens.push({type:kt.paragraph,text:ta[1].slice(0,-1)}):this.tokens.push({type:0<this.tokens.length?kt.paragraph:kt.text,text:ta[1]});else if(ta=this.rules.text.exec(tl))tl=tl.substring(ta[0].length),this.tokens.push({type:kt.text,text:ta[0]});else if(tl)throw Error("Infinite loop on byte: "+tl.charCodeAt(0)+`, near text '${tl.slice(0,30)}...'`)}return{tokens:this.tokens,links:this.links}}}let he=ot('<div class="flex justify-end mb-2 items-end guest-container"><span class="px-4 py-2 mr-2 whitespace-pre-wrap max-w-full chatbot-guest-bubble" data-testid="guest-bubble">'),ue=(le.setOptions({isNoP:!0}),tn=>{let ti;T(()=>{ti&&(ti.innerHTML=le.parse(tn.message))});{let to=he(),ta=to.firstChild;return to.style.setProperty("margin-left","50px"),"function"==typeof ti?ht(ti,ta):ti=ta,ta.style.setProperty("border-radius","6px"),ut(to,G(K,{get when(){return tn.showAvatar},get children(){return G(Xt,{get initialAvatarSrc(){return tn.avatarSrc}})}}),null),C(ti=>{var to=tn.backgroundColor??"#3B81F6",tl=tn.textColor??"#ffffff";return to!==ti._v$&&(null!=(ti._v$=to)?ta.style.setProperty("background-color",to):ta.style.removeProperty("background-color")),tl!==ti._v$2&&(null!=(ti._v$2=tl)?ta.style.setProperty("color",tl):ta.style.removeProperty("color")),ti},{_v$:void 0,_v$2:void 0}),to}}),pe=ot('<div class="flex justify-start mb-2 items-start host-container"><span class="px-4 py-2 ml-2 whitespace-pre-wrap max-w-full chatbot-host-bubble" data-testid="host-bubble">'),de=(le.setOptions({isNoP:!0}),tn=>{let ti;T(()=>{ti&&(ti.innerHTML=le.parse(tn.message))});{let to=pe(),ta=to.firstChild;return to.style.setProperty("margin-right","50px"),ut(to,G(K,{get when(){return tn.showAvatar},get children(){return G(Xt,{get initialAvatarSrc(){return tn.avatarSrc}})}}),ta),"function"==typeof ti?ht(ti,ta):ti=ta,ta.style.setProperty("border-radius","6px"),C(ti=>{var to=tn.backgroundColor??"#f7f8ff",tl=tn.textColor??"#303235";return to!==ti._v$&&(null!=(ti._v$=to)?ta.style.setProperty("background-color",to):ta.style.removeProperty("background-color")),tl!==ti._v$2&&(null!=(ti._v$2=tl)?ta.style.setProperty("color",tl):ta.style.removeProperty("color")),ti},{_v$:void 0,_v$2:void 0}),to}}),fe=ot('<div class="flex items-center"><div class="w-2 h-2 mr-1 rounded-full bubble1"></div><div class="w-2 h-2 mr-1 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),ge=()=>fe(),be=ot('<div class="flex justify-start mb-2 items-start animate-fade-in host-container"><span class="px-4 py-4 ml-2 whitespace-pre-wrap max-w-full chatbot-host-bubble" data-testid="host-bubble">'),ye=()=>{var tn;return ut((tn=be()).firstChild,G(ge,{})),tn},me=ot('<div data-modal-target="defaultModal" data-modal-toggle="defaultModal" class="flex justify-start mb-2 items-start animate-fade-in host-container hover:brightness-90 active:brightness-75"><span class="px-2 py-1 ml-1 whitespace-pre-wrap max-w-full chatbot-host-bubble" data-testid="host-bubble">'),we=tn=>{var ti,to;return to=(ti=me()).firstChild,ti.$$click=()=>tn.onSourceClick?.(),to.style.setProperty("width","max-content"),to.style.setProperty("max-width","80px"),to.style.setProperty("font-size","13px"),to.style.setProperty("border-radius","15px"),to.style.setProperty("cursor","pointer"),to.style.setProperty("text-overflow","ellipsis"),to.style.setProperty("overflow","hidden"),to.style.setProperty("white-space","nowrap"),ut(to,()=>tn.pageContent),ti},ve=(it(["click"]),ot('<span>Powered by<a href="https://ecit.com.sa" target="_blank" rel="noopener noreferrer" class="lite-badge" id="lite-badge"><span> ECIT')),xe="#303235",ke=tn=>{let ti,to,ta=to=>{to.forEach(to=>{to.removedNodes.forEach(to=>{"id"in to&&ti&&"lite-badge"==to.id&&(console.log("Sorry, you can't remove the brand \uD83D\uDE05"),tn.botContainer?.append(ti))})})};T(()=>{document&&tn.botContainer&&(to=new MutationObserver(ta)).observe(tn.botContainer,{subtree:!1,childList:!0})}),P(()=>{to&&to.disconnect()});{let tl=ve(),th=tl.firstChild.nextSibling;return tl.style.setProperty("font-size","13px"),tl.style.setProperty("position","absolute"),tl.style.setProperty("bottom","0"),tl.style.setProperty("padding","10px"),tl.style.setProperty("margin","auto"),tl.style.setProperty("width","100%"),tl.style.setProperty("text-align","center"),"function"==typeof ti?ht(ti,th):ti=th,th.style.setProperty("font-weight","bold"),C(ti=>{var to=tn.poweredByTextColor??xe,ta=tn.badgeBackgroundColor??"#ffffff",tc=tn.poweredByTextColor??xe;return to!==ti._v$&&(null!=(ti._v$=to)?tl.style.setProperty("color",to):tl.style.removeProperty("color")),ta!==ti._v$2&&(null!=(ti._v$2=ta)?tl.style.setProperty("background-color",ta):tl.style.removeProperty("background-color")),tc!==ti._v$3&&(null!=(ti._v$3=tc)?th.style.setProperty("color",tc):th.style.removeProperty("color")),ti},{_v$:void 0,_v$2:void 0,_v$3:void 0}),tl}},_e=Object.create(null),Ce=(_e.open="0",_e.close="1",_e.ping="2",_e.pong="3",_e.message="4",_e.upgrade="5",_e.noop="6",Object.create(null)),Se=(Object.keys(_e).forEach(tn=>{Ce[_e[tn]]=tn}),{type:"error",data:"parser error"}),Ae="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ee="function"==typeof ArrayBuffer,Te=tn=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(tn):tn&&tn.buffer instanceof ArrayBuffer,Pe=({type:tn,data:ti},to,ta)=>Ae&&ti instanceof Blob?to?ta(ti):Re(ti,ta):Ee&&(ti instanceof ArrayBuffer||Te(ti))?to?ta(ti):Re(new Blob([ti]),ta):ta(_e[tn]+(ti||"")),Re=(tn,ti)=>{let to=new FileReader;return to.onload=function(){ti("b"+(to.result.split(",")[1]||""))},to.readAsDataURL(tn)};function $e(tn){return tn instanceof Uint8Array?tn:tn instanceof ArrayBuffer?new Uint8Array(tn):new Uint8Array(tn.buffer,tn.byteOffset,tn.byteLength)}let Oe,Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)Le[Be.charCodeAt(t)]=t;let Ne="function"==typeof ArrayBuffer,je=(tn,ti)=>{var to;return"string"!=typeof tn?{type:"message",data:Me(tn,ti)}:"b"===(to=tn.charAt(0))?{type:"message",data:ze(tn.substring(1),ti)}:Ce[to]?1<tn.length?{type:Ce[to],data:tn.substring(1)}:{type:Ce[to]}:Se},ze=(tn,ti)=>{var to;return Ne?(to=(tn=>{let ti,to,ta,tl,th,tc=.75*tn.length,tu=tn.length,tp=0;"="===tn[tn.length-1]&&(tc--,"="===tn[tn.length-2])&&tc--;var td=new ArrayBuffer(tc),tf=new Uint8Array(td);for(ti=0;ti<tu;ti+=4)to=Le[tn.charCodeAt(ti)],ta=Le[tn.charCodeAt(ti+1)],tl=Le[tn.charCodeAt(ti+2)],th=Le[tn.charCodeAt(ti+3)],tf[tp++]=to<<2|ta>>4,tf[tp++]=(15&ta)<<4|tl>>2,tf[tp++]=(3&tl)<<6|63&th;return td})(tn),Me(to,ti)):{base64:!0,data:tn}},Me=(tn,ti)=>"blob"!==ti?tn instanceof ArrayBuffer?tn:tn.buffer:tn instanceof Blob?tn:new Blob([tn]),Ie="\x1e";function qe(){return new TransformStream({transform(tn,ti){var to,ta;to=tn,ta=to=>{var ta,tl=to.length;let th;tl<126?(th=new Uint8Array(1),new DataView(th.buffer).setUint8(0,tl)):tl<65536?(th=new Uint8Array(3),(ta=new DataView(th.buffer)).setUint8(0,126),ta.setUint16(1,tl)):(th=new Uint8Array(9),(ta=new DataView(th.buffer)).setUint8(0,127),ta.setBigUint64(1,BigInt(tl))),tn.data&&"string"!=typeof tn.data&&(th[0]|=128),ti.enqueue(th),ti.enqueue(to)},Ae&&to.data instanceof Blob?to.data.arrayBuffer().then($e).then(ta):Ee&&(to.data instanceof ArrayBuffer||Te(to.data))?ta($e(to.data)):Pe(to,!1,tn=>{ta((Oe=Oe||new TextEncoder).encode(tn))})}})}let De;function Fe(tn){return tn.reduce((tn,ti)=>tn+ti.length,0)}function Ue(tn,ti){if(tn[0].length===ti)return tn.shift();var to=new Uint8Array(ti);let ta=0;for(let tl=0;tl<ti;tl++)to[tl]=tn[0][ta++],ta===tn[0].length&&(tn.shift(),ta=0);return tn.length&&ta<tn[0].length&&(tn[0]=tn[0].slice(ta)),to}function Ge(tn){if(tn)return function(tn){for(var ti in Ge.prototype)tn[ti]=Ge.prototype[ti];return tn}(tn)}Ge.prototype.on=Ge.prototype.addEventListener=function(tn,ti){return this._callbacks=this._callbacks||{},(this._callbacks["$"+tn]=this._callbacks["$"+tn]||[]).push(ti),this},Ge.prototype.once=function(tn,ti){function to(){this.off(tn,to),ti.apply(this,arguments)}return to.fn=ti,this.on(tn,to),this},Ge.prototype.off=Ge.prototype.removeListener=Ge.prototype.removeAllListeners=Ge.prototype.removeEventListener=function(tn,ti){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var to=this._callbacks["$"+tn];if(to){if(1==arguments.length)delete this._callbacks["$"+tn];else{for(var ta,tl=0;tl<to.length;tl++)if((ta=to[tl])===ti||ta.fn===ti){to.splice(tl,1);break}0===to.length&&delete this._callbacks["$"+tn]}}}return this},Ge.prototype.emit=function(tn){this._callbacks=this._callbacks||{};for(var ti=Array(arguments.length-1),to=this._callbacks["$"+tn],ta=1;ta<arguments.length;ta++)ti[ta-1]=arguments[ta];if(to){ta=0;for(var tl=(to=to.slice(0)).length;ta<tl;++ta)to[ta].apply(this,ti)}return this},Ge.prototype.emitReserved=Ge.prototype.emit,Ge.prototype.listeners=function(tn){return this._callbacks=this._callbacks||{},this._callbacks["$"+tn]||[]},Ge.prototype.hasListeners=function(tn){return!!this.listeners(tn).length};let He="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function We(tn,...ti){return ti.reduce((ti,to)=>(tn.hasOwnProperty(to)&&(ti[to]=tn[to]),ti),{})}let Ve=He.setTimeout,Ye=He.clearTimeout;function Xe(tn,ti){ti.useNativeTimers?(tn.setTimeoutFn=Ve.bind(He),tn.clearTimeoutFn=Ye.bind(He)):(tn.setTimeoutFn=He.setTimeout.bind(He),tn.clearTimeoutFn=He.clearTimeout.bind(He))}function Je(tn){return"string"==typeof tn?function(tn){let ti,to=0;for(let ta=0,tl=tn.length;ta<tl;ta++)(ti=tn.charCodeAt(ta))<128?to+=1:ti<2048?to+=2:ti<55296||57344<=ti?to+=3:(ta++,to+=4);return to}(tn):Math.ceil(1.33*(tn.byteLength||tn.size))}class Ke extends Error{constructor(tn,ti,to){super(tn),this.description=ti,this.context=to,this.type="TransportError"}}class Qe extends Ge{constructor(tn){super(),this.writable=!1,Xe(this,tn),this.opts=tn,this.query=tn.query,this.socket=tn.socket}onError(tn,ti,to){return super.emitReserved("error",new Ke(tn,ti,to)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(tn){"open"===this.readyState&&this.write(tn)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(tn){tn=je(tn,this.socket.binaryType),this.onPacket(tn)}onPacket(tn){super.emitReserved("packet",tn)}onClose(tn){this.readyState="closed",super.emitReserved("close",tn)}pause(tn){}createUri(tn,ti={}){return tn+"://"+this._hostname()+this._port()+this.opts.path+this._query(ti)}_hostname(){var tn=this.opts.hostname;return -1===tn.indexOf(":")?tn:"["+tn+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(tn){return(tn=function(tn){let ti="";for(var to in tn)tn.hasOwnProperty(to)&&(ti.length&&(ti+="&"),ti+=encodeURIComponent(to)+"="+encodeURIComponent(tn[to]));return ti}(tn)).length?"?"+tn:""}}let Ze="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),tr=64,er={},rr,sr=0,nr=0;function or(tn){let ti="";for(;ti=Ze[tn%64]+ti,0<(tn=Math.floor(tn/64)););return ti}function ir(){var tn=or(+new Date);return tn!==rr?(sr=0,rr=tn):tn+"."+or(sr++)}for(;nr<64;nr++)er[Ze[nr]]=nr;let ar=!1;try{ar="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(tn){}let lr=ar;function cr(tn){tn=tn.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!tn||lr))return new XMLHttpRequest}catch(ti){}if(!tn)try{return new He[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(to){}}function hr(){}let ur=null!=new cr({xdomain:!1}).responseType;class pr extends Ge{constructor(tn,ti){super(),Xe(this,ti),this.opts=ti,this.method=ti.method||"GET",this.uri=tn,this.data=void 0!==ti.data?ti.data:null,this.create()}create(){var tn,ti=We(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");ti.xdomain=!!this.opts.xd;let to=this.xhr=new cr(ti);try{to.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var ta in to.setDisableHeaderCheck&&to.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(ta)&&to.setRequestHeader(ta,this.opts.extraHeaders[ta])}catch(tl){}if("POST"===this.method)try{to.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(th){}try{to.setRequestHeader("Accept","*/*")}catch(tc){}null!=(tn=this.opts.cookieJar)&&tn.addCookies(to),"withCredentials"in to&&(to.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(to.timeout=this.opts.requestTimeout),to.onreadystatechange=()=>{var tn;3===to.readyState&&null!=(tn=this.opts.cookieJar)&&tn.parseCookies(to),4===to.readyState&&(200===to.status||1223===to.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof to.status?to.status:0)},0))},to.send(this.data)}catch(tu){return void this.setTimeoutFn(()=>{this.onError(tu)},0)}"undefined"!=typeof document&&(this.index=pr.requestsCount++,pr.requests[this.index]=this)}onError(tn){this.emitReserved("error",tn,this.xhr),this.cleanup(!0)}cleanup(tn){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=hr,tn)try{this.xhr.abort()}catch(ti){}"undefined"!=typeof document&&delete pr.requests[this.index],this.xhr=null}}onLoad(){var tn=this.xhr.responseText;null!==tn&&(this.emitReserved("data",tn),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function dr(){for(var tn in pr.requests)pr.requests.hasOwnProperty(tn)&&pr.requests[tn].abort()}pr.requestsCount=0,pr.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",dr):"function"==typeof addEventListener&&addEventListener("onpagehide"in He?"pagehide":"unload",dr,!1));let fr="function"==typeof Promise&&"function"==typeof Promise.resolve?tn=>Promise.resolve().then(tn):(tn,ti)=>ti(tn,0),gr=He.WebSocket||He.MozWebSocket,br="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),yr={websocket:class extends Qe{constructor(tn){super(tn),this.supportsBinary=!tn.forceBase64}get name(){return"websocket"}doOpen(){if(this.check()){var tn=this.uri(),ti=this.opts.protocols,to=br?{}:We(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(to.headers=this.opts.extraHeaders);try{this.ws=br?new gr(tn,ti,to):ti?new gr(tn,ti):new gr(tn)}catch(ta){return this.emitReserved("error",ta)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=tn=>this.onClose({description:"websocket connection closed",context:tn}),this.ws.onmessage=tn=>this.onData(tn.data),this.ws.onerror=tn=>this.onError("websocket error",tn)}write(tn){this.writable=!1;for(let ti=0;ti<tn.length;ti++){var to=tn[ti];let ta=ti===tn.length-1;Pe(to,this.supportsBinary,tn=>{try{this.ws.send(tn)}catch(ti){}ta&&fr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){var tn=this.opts.secure?"wss":"ws",ti=this.query||{};return this.opts.timestampRequests&&(ti[this.opts.timestampParam]=ir()),this.supportsBinary||(ti.b64=1),this.createUri(tn,ti)}check(){return!!gr}},webtransport:class extends Qe{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(tn=>{this.onError("webtransport error",tn)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(tn=>{var ti=function(tn,ti){De=De||new TextDecoder;let to=[],ta=0,tl=-1,th=!1;return new TransformStream({transform(tc,tu){for(to.push(tc);;){if(0===ta){if(1>Fe(to))break;var tp=Ue(to,1);th=128==(128&tp[0]),ta=(tl=127&tp[0])<126?3:126===tl?1:2}else if(1===ta){if(2>Fe(to))break;tp=Ue(to,2),tl=new DataView(tp.buffer,tp.byteOffset,tp.length).getUint16(0),ta=3}else if(2===ta){if(8>Fe(to))break;var td=Ue(to,8),tf=(td=new DataView(td.buffer,td.byteOffset,td.length)).getUint32(0);if(tf>2097151){tu.enqueue(Se);break}tl=4294967296*tf+td.getUint32(4),ta=3}else{if(Fe(to)<tl)break;tf=Ue(to,tl),tu.enqueue(je(th?tf:De.decode(tf),ti)),ta=0}if(0===tl||tl>tn){tu.enqueue(Se);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType);let to=tn.readable.pipeThrough(ti).getReader();(ti=qe()).readable.pipeTo(tn.writable),this.writer=ti.writable.getWriter();let ta=()=>{to.read().then(({done:tn,value:ti})=>{tn||(this.onPacket(ti),ta())}).catch(tn=>{})};ta(),tn={type:"open"},this.query.sid&&(tn.data=`{"sid":"${this.query.sid}"}`),this.writer.write(tn).then(()=>this.onOpen())})}))}write(tn){this.writable=!1;for(let ti=0;ti<tn.length;ti++){var to=tn[ti];let ta=ti===tn.length-1;this.writer.write(to).then(()=>{ta&&fr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var tn;null!=(tn=this.transport)&&tn.close()}},polling:class extends Qe{constructor(tn){if(super(tn),this.polling=!1,"undefined"!=typeof location){var ti="https:"===location.protocol;let to=location.port;to=to||(ti?"443":"80"),this.xd="undefined"!=typeof location&&tn.hostname!==location.hostname||to!==tn.port}ti=tn&&tn.forceBase64,this.supportsBinary=ur&&!ti,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(tn){this.readyState="pausing";let ti=()=>{this.readyState="paused",tn()};if(this.polling||!this.writable){let to=0;this.polling&&(to++,this.once("pollComplete",function(){--to||ti()})),this.writable||(to++,this.once("drain",function(){--to||ti()}))}else ti()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(tn){((tn,ti)=>{var to=tn.split("\x1e"),ta=[];for(let tl=0;tl<to.length;tl++){var th=je(to[tl],ti);if(ta.push(th),"error"===th.type)break}return ta})(tn,this.socket.binaryType).forEach(tn=>{if("opening"===this.readyState&&"open"===tn.type&&this.onOpen(),"close"===tn.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(tn)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState)&&this.poll()}doClose(){var tn=()=>{this.write([{type:"close"}])};"open"===this.readyState?tn():this.once("open",tn)}write(tn){this.writable=!1,((tn,ti)=>{let to=tn.length,ta=Array(to),tl=0;tn.forEach((tn,th)=>{Pe(tn,!1,tn=>{ta[th]=tn,++tl===to&&ti(ta.join("\x1e"))})})})(tn,tn=>{this.doWrite(tn,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){var tn=this.opts.secure?"https":"http",ti=this.query||{};return!1!==this.opts.timestampRequests&&(ti[this.opts.timestampParam]=ir()),this.supportsBinary||ti.sid||(ti.b64=1),this.createUri(tn,ti)}request(tn={}){return Object.assign(tn,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new pr(this.uri(),tn)}doWrite(tn,ti){(tn=this.request({method:"POST",data:tn})).on("success",ti),tn.on("error",(tn,ti)=>{this.onError("xhr post error",tn,ti)})}doPoll(){var tn=this.request();tn.on("data",this.onData.bind(this)),tn.on("error",(tn,ti)=>{this.onError("xhr poll error",tn,ti)}),this.pollXhr=tn}}},mr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor",];function vr(tn){var ti,to,ta=tn,tl=tn.indexOf("["),th=tn.indexOf("]");-1!=tl&&-1!=th&&(tn=tn.substring(0,tl)+tn.substring(tl,th).replace(/:/g,";")+tn.substring(th,tn.length));let tc=mr.exec(tn||""),tu={},tp=14;for(;tp--;)tu[wr[tp]]=tc[tp]||"";return -1!=tl&&-1!=th&&(tu.source=ta,tu.host=tu.host.substring(1,tu.host.length-1).replace(/;/g,":"),tu.authority=tu.authority.replace("[","").replace("]","").replace(/;/g,":"),tu.ipv6uri=!0),tu.pathNames=(to=(ti=tu.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=ti.slice(0,1)&&0!==ti.length||to.splice(0,1),"/"==ti.slice(-1)&&to.splice(to.length-1,1),to),tu.queryKey=function(tn,ti){let to={};return ti.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(tn,ti,ta){ti&&(to[ti]=ta)}),to}(0,tu.query),tu}let xr=class tn extends Ge{constructor(tn,ti={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],tn&&"object"==typeof tn&&(ti=tn,tn=null),tn?(tn=vr(tn),ti.hostname=tn.host,ti.secure="https"===tn.protocol||"wss"===tn.protocol,ti.port=tn.port,tn.query&&(ti.query=tn.query)):ti.host&&(ti.hostname=vr(ti.host).host),Xe(this,ti),this.secure=null!=ti.secure?ti.secure:"undefined"!=typeof location&&"https:"===location.protocol,ti.hostname&&!ti.port&&(ti.port=this.secure?"443":"80"),this.hostname=ti.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=ti.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=ti.transports||["polling","websocket","webtransport",],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},ti),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(tn){var ti={},to=tn.split("&");for(let ta=0,tl=to.length;ta<tl;ta++){var th=to[ta].split("=");ti[decodeURIComponent(th[0])]=decodeURIComponent(th[1])}return ti}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname)&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1)),this.open()}createTransport(tn){var ti=((ti=Object.assign({},this.opts.query)).EIO=4,ti.transport=tn,this.id&&(ti.sid=this.id),Object.assign({},this.opts,{query:ti,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[tn]));return new yr[tn](ti)}open(){let ti;if(this.opts.rememberUpgrade&&tn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))ti="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);ti=this.transports[0]}this.readyState="opening";try{ti=this.createTransport(ti)}catch(to){return this.transports.shift(),void this.open()}ti.open(),this.setTransport(ti)}setTransport(tn){this.transport&&this.transport.removeAllListeners(),(this.transport=tn).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",tn=>this.onClose("transport close",tn))}probe(ti){let to=this.createTransport(ti),ta=!1;tn.priorWebsocketSuccess=!1;let tl=()=>{ta||(to.send([{type:"ping",data:"probe"}]),to.once("packet",ti=>{ta||("pong"===ti.type&&"probe"===ti.data?(this.upgrading=!0,this.emitReserved("upgrading",to),to&&(tn.priorWebsocketSuccess="websocket"===to.name,this.transport.pause(()=>{ta||"closed"!==this.readyState&&(tf(),this.setTransport(to),to.send([{type:"upgrade"}]),this.emitReserved("upgrade",to),to=null,this.upgrading=!1,this.flush())}))):((ti=Error("probe error")).transport=to.name,this.emitReserved("upgradeError",ti)))}))};function th(){ta||(ta=!0,tf(),to.close(),to=null)}let tc=tn=>{(tn=Error("probe error: "+tn)).transport=to.name,th(),this.emitReserved("upgradeError",tn)};function tu(){tc("transport closed")}function tp(){tc("socket closed")}function td(tn){to&&tn.name!==to.name&&th()}let tf=()=>{to.removeListener("open",tl),to.removeListener("error",tc),to.removeListener("close",tu),this.off("close",tp),this.off("upgrading",td)};to.once("open",tl),to.once("error",tc),to.once("close",tu),this.once("close",tp),this.once("upgrading",td),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==ti?this.setTimeoutFn(()=>{ta||to.open()},200):to.open()}onOpen(){if(this.readyState="open",tn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let ti=0;for(var to=this.upgrades.length;ti<to;ti++)this.probe(this.upgrades[ti])}}onPacket(tn){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",tn),this.emitReserved("heartbeat"),this.resetPingTimeout(),tn.type){case"open":this.onHandshake(JSON.parse(tn.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var ti=Error("server error");ti.code=tn.data,this.onError(ti);break;case"message":this.emitReserved("data",tn.data),this.emitReserved("message",tn.data)}}onHandshake(tn){this.emitReserved("handshake",tn),this.id=tn.sid,this.transport.query.sid=tn.sid,this.upgrades=this.filterUpgrades(tn.upgrades),this.pingInterval=tn.pingInterval,this.pingTimeout=tn.pingTimeout,this.maxPayload=tn.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){var tn;"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(tn=this.getWritablePackets(),this.transport.send(tn),this.prevBufferLen=tn.length,this.emitReserved("flush"))}getWritablePackets(){if(this.maxPayload&&"polling"===this.transport.name&&1<this.writeBuffer.length){let tn=1;for(let ti=0;ti<this.writeBuffer.length;ti++){var to=this.writeBuffer[ti].data;if(to&&(tn+=Je(to)),0<ti&&tn>this.maxPayload)return this.writeBuffer.slice(0,ti);tn+=2}}return this.writeBuffer}write(tn,ti,to){return this.sendPacket("message",tn,ti,to),this}send(tn,ti,to){return this.sendPacket("message",tn,ti,to),this}sendPacket(tn,ti,to,ta){"function"==typeof ti&&(ta=ti,ti=void 0),"function"==typeof to&&(ta=to,to=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((to=to||{}).compress=!1!==to.compress,this.emitReserved("packetCreate",tn={type:tn,data:ti,options:to}),this.writeBuffer.push(tn),ta&&this.once("flush",ta),this.flush())}close(){let tn=()=>{this.onClose("forced close"),this.transport.close()},ti=()=>{this.off("upgrade",ti),this.off("upgradeError",ti),tn()},to=()=>{this.once("upgrade",ti),this.once("upgradeError",ti)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{(this.upgrading?to:tn)()}):(this.upgrading?to:tn)()),this}onError(ti){tn.priorWebsocketSuccess=!1,this.emitReserved("error",ti),this.onClose("transport error",ti)}onClose(tn,ti){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",tn,ti),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(tn){var ti=[];let to=0;for(var ta=tn.length;to<ta;to++)~this.transports.indexOf(tn[to])&&ti.push(tn[to]);return ti}};xr.protocol=4;let kr="function"==typeof ArrayBuffer,_r=tn=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(tn):tn.buffer instanceof ArrayBuffer,Cr=Object.prototype.toString,Sr="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Cr.call(Blob),Ar="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Cr.call(File);function Er(tn){return kr&&(tn instanceof ArrayBuffer||_r(tn))||Sr&&tn instanceof Blob||Ar&&tn instanceof File}function Tr(tn,ti){if(tn&&"object"==typeof tn){if(Array.isArray(tn)){for(let to=0,ta=tn.length;to<ta;to++)if(Tr(tn[to]))return!0}else{if(Er(tn))return!0;if(tn.toJSON&&"function"==typeof tn.toJSON&&1===arguments.length)return Tr(tn.toJSON(),!0);for(let tl in tn)if(Object.prototype.hasOwnProperty.call(tn,tl)&&Tr(tn[tl]))return!0}}return!1}function Pr(tn){var ti=[],to=tn.data;return tn.data=Rr(to,ti),tn.attachments=ti.length,{packet:tn,buffers:ti}}function Rr(tn,ti){if(!tn)return tn;if(Er(tn))return to={_placeholder:!0,num:ti.length},ti.push(tn),to;if(Array.isArray(tn)){var to,ta=Array(tn.length);for(let tl=0;tl<tn.length;tl++)ta[tl]=Rr(tn[tl],ti);return ta}if("object"!=typeof tn||tn instanceof Date)return tn;var th={};for(let tc in tn)Object.prototype.hasOwnProperty.call(tn,tc)&&(th[tc]=Rr(tn[tc],ti));return th}function $r(tn,ti){return tn.data=Or(tn.data,ti),delete tn.attachments,tn}function Or(tn,ti){if(tn){if(tn&&!0===tn._placeholder){if("number"==typeof tn.num&&0<=tn.num&&tn.num<ti.length)return ti[tn.num];throw Error("illegal attachments")}if(Array.isArray(tn))for(let to=0;to<tn.length;to++)tn[to]=Or(tn[to],ti);else if("object"==typeof tn)for(let ta in tn)Object.prototype.hasOwnProperty.call(tn,ta)&&(tn[ta]=Or(tn[ta],ti))}return tn}let Br=["connect","connect_error","disconnect","disconnecting","newListener","removeListener",];function Lr(tn){return"[object Object]"===Object.prototype.toString.call(tn)}!function(tn){tn[tn.CONNECT=0]="CONNECT",tn[tn.DISCONNECT=1]="DISCONNECT",tn[tn.EVENT=2]="EVENT",tn[tn.ACK=3]="ACK",tn[tn.CONNECT_ERROR=4]="CONNECT_ERROR",tn[tn.BINARY_EVENT=5]="BINARY_EVENT",tn[tn.BINARY_ACK=6]="BINARY_ACK"}(_t=_t||{});class Nr extends Ge{constructor(tn){super(),this.reviver=tn}add(tn){let ti;if("string"==typeof tn){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");var to=(ti=this.decodeString(tn)).type===_t.BINARY_EVENT;(to||ti.type===_t.BINARY_ACK)&&(ti.type=to?_t.EVENT:_t.ACK,this.reconstructor=new jr(ti),0!==ti.attachments)||super.emitReserved("decoded",ti)}else{if(!Er(tn)&&!tn.base64)throw Error("Unknown type: "+tn);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(ti=this.reconstructor.takeBinaryData(tn))&&(this.reconstructor=null,super.emitReserved("decoded",ti))}}decodeString(tn){let ti=0;var to={type:Number(tn.charAt(0))};if(void 0===_t[to.type])throw Error("unknown packet type "+to.type);if(to.type===_t.BINARY_EVENT||to.type===_t.BINARY_ACK){for(var ta=ti+1;"-"!==tn.charAt(++ti)&&ti!=tn.length;);if((ta=tn.substring(ta,ti))!=Number(ta)||"-"!==tn.charAt(ti))throw Error("Illegal attachments");to.attachments=Number(ta)}if("/"===tn.charAt(ti+1)){for(ta=ti+1;++ti&&","!==tn.charAt(ti)&&ti!==tn.length;);to.nsp=tn.substring(ta,ti)}else to.nsp="/";if(""!==(ta=tn.charAt(ti+1))&&Number(ta)==ta){for(ta=ti+1;++ti;){var tl=tn.charAt(ti);if(null==tl||Number(tl)!=tl){--ti;break}if(ti===tn.length)break}to.id=Number(tn.substring(ta,ti+1))}if(tn.charAt(++ti)){if(ta=this.tryParse(tn.substr(ti)),!Nr.isPayloadValid(to.type,ta))throw Error("invalid payload");to.data=ta}return to}tryParse(tn){try{return JSON.parse(tn,this.reviver)}catch(ti){return!1}}static isPayloadValid(tn,ti){switch(tn){case _t.CONNECT:return Lr(ti);case _t.DISCONNECT:return void 0===ti;case _t.CONNECT_ERROR:return"string"==typeof ti||Lr(ti);case _t.EVENT:case _t.BINARY_EVENT:return Array.isArray(ti)&&("number"==typeof ti[0]||"string"==typeof ti[0]&&-1===Br.indexOf(ti[0]));case _t.ACK:case _t.BINARY_ACK:return Array.isArray(ti)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jr{constructor(tn){this.packet=tn,this.buffers=[],this.reconPack=tn}takeBinaryData(tn){return this.buffers.push(tn),this.buffers.length===this.reconPack.attachments?(tn=$r(this.reconPack,this.buffers),this.finishedReconstruction(),tn):null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var zr=Object.freeze({__proto__:null,Decoder:Nr,Encoder:class{constructor(tn){this.replacer=tn}encode(tn){return(tn.type===_t.EVENT||tn.type===_t.ACK)&&Tr(tn)?this.encodeAsBinary({type:tn.type===_t.EVENT?_t.BINARY_EVENT:_t.BINARY_ACK,nsp:tn.nsp,data:tn.data,id:tn.id}):[this.encodeAsString(tn)]}encodeAsString(tn){let ti=""+tn.type;return tn.type!==_t.BINARY_EVENT&&tn.type!==_t.BINARY_ACK||(ti+=tn.attachments+"-"),tn.nsp&&"/"!==tn.nsp&&(ti+=tn.nsp+","),null!=tn.id&&(ti+=tn.id),null!=tn.data&&(ti+=JSON.stringify(tn.data,this.replacer)),ti}encodeAsBinary(tn){tn=Pr(tn);var ti=this.encodeAsString(tn.packet);return(tn=tn.buffers).unshift(ti),tn}},get PacketType(){return _t},protocol:5});function Mr(tn,ti,to){return tn.on(ti,to),function(){tn.off(ti,to)}}let Ir=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qr extends Ge{constructor(tn,ti,to){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=tn,this.nsp=ti,to&&to.auth&&(this.auth=to.auth),this._opts=Object.assign({},to),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){var tn;this.subs||(tn=this.io,this.subs=[Mr(tn,"open",this.onopen.bind(this)),Mr(tn,"packet",this.onpacket.bind(this)),Mr(tn,"error",this.onerror.bind(this)),Mr(tn,"close",this.onclose.bind(this)),])}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...tn){return tn.unshift("message"),this.emit.apply(this,tn),this}emit(tn,...ti){var to,ta;if(Ir.hasOwnProperty(tn))throw Error('"'+tn.toString()+'" is a reserved event name');return ti.unshift(tn),!this._opts.retries||this.flags.fromQueue||this.flags.volatile?((tn={type:_t.EVENT,data:ti,options:{}}).options.compress=!1!==this.flags.compress,"function"==typeof ti[ti.length-1]&&(to=this.ids++,ta=ti.pop(),this._registerAckCallback(to,ta),tn.id=to),ta=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,(!this.flags.volatile||ta&&this.connected)&&(this.connected?(this.notifyOutgoingListeners(tn),this.packet(tn)):this.sendBuffer.push(tn)),this.flags={}):this._addToQueue(ti),this}_registerAckCallback(tn,ti){var to=null!=(to=this.flags.timeout)?to:this._opts.ackTimeout;if(void 0===to)this.acks[tn]=ti;else{let ta=this.io.setTimeoutFn(()=>{delete this.acks[tn];for(let to=0;to<this.sendBuffer.length;to++)this.sendBuffer[to].id===tn&&this.sendBuffer.splice(to,1);ti.call(this,Error("operation has timed out"))},to);this.acks[tn]=(...tn)=>{this.io.clearTimeoutFn(ta),ti.apply(this,[null,...tn])}}}emitWithAck(tn,...ti){let to=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((ta,tl)=>{ti.push((tn,ti)=>to?tn?tl(tn):ta(ti):ta(tn)),this.emit(tn,...ti)})}_addToQueue(tn){let ti;"function"==typeof tn[tn.length-1]&&(ti=tn.pop());let to={id:this._queueSeq++,tryCount:0,pending:!1,args:tn,flags:Object.assign({fromQueue:!0},this.flags)};tn.push((tn,...ta)=>{if(to===this._queue[0])return null!==tn?to.tryCount>this._opts.retries&&(this._queue.shift(),ti)&&ti(tn):(this._queue.shift(),ti&&ti(null,...ta)),to.pending=!1,this._drainQueue()}),this._queue.push(to),this._drainQueue()}_drainQueue(tn=!1){var ti;this.connected&&0!==this._queue.length&&(!(ti=this._queue[0]).pending||tn)&&(ti.pending=!0,ti.tryCount++,this.flags=ti.flags,this.emit.apply(this,ti.args))}packet(tn){tn.nsp=this.nsp,this.io._packet(tn)}onopen(){"function"==typeof this.auth?this.auth(tn=>{this._sendConnectPacket(tn)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(tn){this.packet({type:_t.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},tn):tn})}onerror(tn){this.connected||this.emitReserved("connect_error",tn)}onclose(tn,ti){this.connected=!1,delete this.id,this.emitReserved("disconnect",tn,ti)}onpacket(tn){if(tn.nsp===this.nsp)switch(tn.type){case _t.CONNECT:tn.data&&tn.data.sid?this.onconnect(tn.data.sid,tn.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _t.EVENT:case _t.BINARY_EVENT:this.onevent(tn);break;case _t.ACK:case _t.BINARY_ACK:this.onack(tn);break;case _t.DISCONNECT:this.ondisconnect();break;case _t.CONNECT_ERROR:this.destroy();var ti=Error(tn.data.message);ti.data=tn.data.data,this.emitReserved("connect_error",ti)}}onevent(tn){var ti=tn.data||[];null!=tn.id&&ti.push(this.ack(tn.id)),this.connected?this.emitEvent(ti):this.receiveBuffer.push(Object.freeze(ti))}emitEvent(tn){if(this._anyListeners&&this._anyListeners.length)for(let ti of this._anyListeners.slice())ti.apply(this,tn);super.emit.apply(this,tn),this._pid&&tn.length&&"string"==typeof tn[tn.length-1]&&(this._lastOffset=tn[tn.length-1])}ack(tn){let ti=this,to=!1;return function(...ta){to||(to=!0,ti.packet({type:_t.ACK,id:tn,data:ta}))}}onack(tn){var ti=this.acks[tn.id];"function"==typeof ti&&(ti.apply(this,tn.data),delete this.acks[tn.id])}onconnect(tn,ti){this.id=tn,this.recovered=ti&&this._pid===ti,this._pid=ti,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(tn=>this.emitEvent(tn)),this.receiveBuffer=[],this.sendBuffer.forEach(tn=>{this.notifyOutgoingListeners(tn),this.packet(tn)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(tn=>tn()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_t.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(tn){return this.flags.compress=tn,this}get volatile(){return this.flags.volatile=!0,this}timeout(tn){return this.flags.timeout=tn,this}onAny(tn){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(tn),this}prependAny(tn){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(tn),this}offAny(tn){if(this._anyListeners){if(tn){var ti=this._anyListeners;for(let to=0;to<ti.length;to++)if(tn===ti[to])return ti.splice(to,1),this}else this._anyListeners=[]}return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(tn){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(tn),this}prependAnyOutgoing(tn){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(tn),this}offAnyOutgoing(tn){if(this._anyOutgoingListeners){if(tn){var ti=this._anyOutgoingListeners;for(let to=0;to<ti.length;to++)if(tn===ti[to])return ti.splice(to,1),this}else this._anyOutgoingListeners=[]}return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(tn){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(let ti of this._anyOutgoingListeners.slice())ti.apply(this,tn.data)}}function Dr(tn){this.ms=(tn=tn||{}).min||100,this.max=tn.max||1e4,this.factor=tn.factor||2,this.jitter=0<tn.jitter&&tn.jitter<=1?tn.jitter:0,this.attempts=0}Dr.prototype.duration=function(){var tn,ti,to=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(ti=Math.floor((tn=Math.random())*this.jitter*to),to=0==(1&Math.floor(10*tn))?to-ti:to+ti),0|Math.min(to,this.max)},Dr.prototype.reset=function(){this.attempts=0},Dr.prototype.setMin=function(tn){this.ms=tn},Dr.prototype.setMax=function(tn){this.max=tn},Dr.prototype.setJitter=function(tn){this.jitter=tn};class Fr extends Ge{constructor(tn,ti){super(),this.nsps={},this.subs=[],tn&&"object"==typeof tn&&(ti=tn,tn=void 0),(ti=ti||{}).path=ti.path||"/socket.io",this.opts=ti,Xe(this,ti),this.reconnection(!1!==ti.reconnection),this.reconnectionAttempts(ti.reconnectionAttempts||1/0),this.reconnectionDelay(ti.reconnectionDelay||1e3),this.reconnectionDelayMax(ti.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(to=ti.randomizationFactor)?to:.5),this.backoff=new Dr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==ti.timeout?2e4:ti.timeout),this._readyState="closed",this.uri=tn;var to=ti.parser||zr;this.encoder=new to.Encoder,this.decoder=new to.Decoder,this._autoConnect=!1!==ti.autoConnect,this._autoConnect&&this.open()}reconnection(tn){return arguments.length?(this._reconnection=!!tn,this):this._reconnection}reconnectionAttempts(tn){return void 0===tn?this._reconnectionAttempts:(this._reconnectionAttempts=tn,this)}reconnectionDelay(tn){var ti;return void 0===tn?this._reconnectionDelay:(this._reconnectionDelay=tn,null!=(ti=this.backoff)&&ti.setMin(tn),this)}randomizationFactor(tn){var ti;return void 0===tn?this._randomizationFactor:(this._randomizationFactor=tn,null!=(ti=this.backoff)&&ti.setJitter(tn),this)}reconnectionDelayMax(tn){var ti;return void 0===tn?this._reconnectionDelayMax:(this._reconnectionDelayMax=tn,null!=(ti=this.backoff)&&ti.setMax(tn),this)}timeout(tn){return arguments.length?(this._timeout=tn,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(tn){if(!~this._readyState.indexOf("open")){this.engine=new xr(this.uri,this.opts);let ti=this.engine,to=this,ta=(this._readyState="opening",this.skipReconnect=!1,Mr(ti,"open",function(){to.onopen(),tn&&tn()})),tl=ti=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ti),tn?tn(ti):this.maybeReconnectOnOpen()};var th=Mr(ti,"error",tl);if(!1!==this._timeout){var tc=this._timeout;let tu=this.setTimeoutFn(()=>{ta(),tl(Error("timeout")),ti.close()},tc);this.opts.autoUnref&&tu.unref(),this.subs.push(()=>{this.clearTimeoutFn(tu)})}this.subs.push(ta),this.subs.push(th)}return this}connect(tn){return this.open(tn)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");var tn=this.engine;this.subs.push(Mr(tn,"ping",this.onping.bind(this)),Mr(tn,"data",this.ondata.bind(this)),Mr(tn,"error",this.onerror.bind(this)),Mr(tn,"close",this.onclose.bind(this)),Mr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(tn){try{this.decoder.add(tn)}catch(ti){this.onclose("parse error",ti)}}ondecoded(tn){fr(()=>{this.emitReserved("packet",tn)},this.setTimeoutFn)}onerror(tn){this.emitReserved("error",tn)}socket(tn,ti){let to=this.nsps[tn];return to?this._autoConnect&&!to.active&&to.connect():(to=new qr(this,tn,ti),this.nsps[tn]=to),to}_destroy(tn){for(let ti of Object.keys(this.nsps))if(this.nsps[ti].active)return;this._close()}_packet(tn){var ti=this.encoder.encode(tn);for(let to=0;to<ti.length;to++)this.engine.write(ti[to],tn.options)}cleanup(){this.subs.forEach(tn=>tn()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(tn,ti){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",tn,ti),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let tn=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var ti=this.backoff.duration();this._reconnecting=!0;let to=this.setTimeoutFn(()=>{tn.skipReconnect||(this.emitReserved("reconnect_attempt",tn.backoff.attempts),tn.skipReconnect)||tn.open(ti=>{ti?(tn._reconnecting=!1,tn.reconnect(),this.emitReserved("reconnect_error",ti)):tn.onreconnect()})},ti);this.opts.autoUnref&&to.unref(),this.subs.push(()=>{this.clearTimeoutFn(to)})}}onreconnect(){var tn=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",tn)}}let Ur={};function Gr(tn,ti){"object"==typeof tn&&(ti=tn,tn=void 0);var to=(tn=function(tn,ti="",to){let ta=tn;return to=to||"undefined"!=typeof location&&location,"string"==typeof(tn=null==tn?to.protocol+"//"+to.host:tn)&&("/"===tn.charAt(0)&&(tn="/"===tn.charAt(1)?to.protocol+tn:to.host+tn),/^(https?|wss?):\/\//.test(tn)||(tn=void 0!==to?to.protocol+"//"+tn:"https://"+tn),ta=vr(tn)),ta.port||(/^(http|ws)$/.test(ta.protocol)?ta.port="80":/^(http|ws)s$/.test(ta.protocol)&&(ta.port="443")),ta.path=ta.path||"/",tn=-1!==ta.host.indexOf(":")?"["+ta.host+"]":ta.host,ta.id=ta.protocol+"://"+tn+":"+ta.port+ti,ta.href=ta.protocol+"://"+tn+(to&&to.port===ta.port?"":":"+ta.port),ta}(tn,(ti=ti||{}).path||"/socket.io")).source,ta=tn.id,tl=tn.path;tl=Ur[ta]&&tl in Ur[ta].nsps;let th;return th=(tl=ti.forceNew||ti["force new connection"]||!1===ti.multiplex||tl)?new Fr(to,ti):(Ur[ta]||(Ur[ta]=new Fr(to,ti)),Ur[ta]),tn.query&&!ti.query&&(ti.query=tn.queryKey),th.socket(tn.path,ti)}Object.assign(Gr,{Manager:Fr,Socket:qr,io:Gr,connect:Gr});let Hr=ot("<style>"),Wr=ot('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">'),Vr=ot("<div><pre>"),Yr=tn=>{let ti,[to]=X(tn,["onOpen","onClose","isOpen","value"]),[ta,tl]=(T(()=>{ti&&(ti.innerHTML=function(tn){return(tn=(tn="string"!=typeof tn?JSON.stringify(tn,void 0,2):tn).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(tn){let ti="number";return/^"/.test(tn)?ti=/:$/.test(tn)?"key":"string":/true|false/.test(tn)?ti="boolean":/null/.test(tn)&&(ti="null"),'<span class="'+ti+'">'+tn+"</span>"})}(JSON.stringify(tn?.value,void 0,2)))}),_(to.isOpen??!1)),th=(S(()=>{St(tn.isOpen)||tn.isOpen===ta()||tu()}),tn=>{tn.stopPropagation()}),tc=()=>{tl(!1),to.onClose?.(),document.body.style.overflow="auto"},tu=()=>{ta()?tc():(tl(!0),to.onOpen?.(),document.body.style.overflow="hidden")};return G(K,{get when(){return ta()},get children(){var tp,td,tf;return[(ut(tf=Hr(),Ct),tf),(td=(tp=(tf=Wr()).firstChild).nextSibling.nextSibling.firstChild.firstChild,tf.style.setProperty("z-index","1100"),tf.addEventListener("click",tc),ut(tp,Ct),td.style.setProperty("background-color","transparent"),td.style.setProperty("margin-left","20px"),td.style.setProperty("margin-right","20px"),td.addEventListener("click",th),td.addEventListener("pointerdown",th),ut(td,(()=>{let to=A(()=>!!tn.value);return()=>{var tn,ta,tl;return to()&&(ta=(tn=Vr()).firstChild,tn.style.setProperty("background","white"),tn.style.setProperty("margin","auto"),tn.style.setProperty("padding","7px"),"function"==typeof(tl=ti)?ht(tl,ta):ti=ta,tn)}})()),tf),]}})},Xr=ot('<div><div class="flex w-full h-full justify-center"><div class="overflow-y-scroll min-w-full w-full min-h-full px-3 pt-10 relative scrollable-container chatbot-chat-view scroll-smooth">'),Jr=ot("<div>"),Kr=ot('<div class="w-full h-32">'),Qr="Hi there! How can I help?",Zr=tn=>{let ti,to,ta,[tl,th]=_(""),[tc,tu]=_(!1),[tp,td]=_(!1),[tf,tg]=_({}),[tb,t$]=_([{message:tn.welcomeMessage??Qr,type:"apiMessage"}],{equals:!1}),[ty,tm]=_(""),[tv,tw]=_(!1),tk=(T(()=>{to&&setTimeout(()=>{ti?.scrollTo(0,ti.scrollHeight)},50)}),()=>{setTimeout(()=>{ti?.scrollTo(0,ti.scrollHeight)},50)}),tx=tn=>{t$(ti=>[...ti.map((to,ta)=>ta===ti.length-1?{...to,message:to.message+tn}:to),])},t_=tn=>{t$(ti=>[...ti.map((to,ta)=>ta===ti.length-1?{...to,sourceDocuments:tn}:to),])},t8=async ti=>{if(th(ti),""!==ti.trim()){tu(!0),tk();let to=tn.welcomeMessage??Qr;var ta,tl=tb().filter(tn=>tn.message!==to);if(tl=(t$(tn=>[...tn,{message:ti,type:"userMessage"}]),{question:ti,history:tl}),(tl=(tn.chatflowConfig&&(tl.overrideConfig=tn.chatflowConfig),tv()&&(tl.socketIOClientId=ty()),await Ot({chatflowid:tn.chatflowid,apiHost:tn.apiHost,body:tl}))).data){let tc=tC(tl.data);"object"==typeof tc&&tc.text&&tc.sourceDocuments?tv()||t$(tn=>[...tn,{message:tc.text,sourceDocuments:tc.sourceDocuments,type:"apiMessage"},]):tv()||t$(tn=>[...tn,{message:tc,type:"apiMessage"}]),tu(!1),th(""),tk()}tl.error&&(tl=tl.error,console.error(tl),tl="string"==typeof tl?tl:tl.response.data||tl.response.status+": "+tl.response.statusText,[ta="Oops! There seems to be an error. Please try again."]=[tl],t$(tn=>[...tn,{message:ta,type:"apiMessage"}]),tu(!1),th(""),tk())}},t0=(S(()=>{tb()&&tk()}),S(()=>{tn.fontSize&&ta&&(ta.style.fontSize=tn.fontSize+"px")}),S(async()=>{var ti=(await (({chatflowid:tn,apiHost:ti="http://localhost:3000"})=>Et({method:"GET",url:ti+"/api/v1/chatflows-streaming/"+tn}))({chatflowid:tn.chatflowid,apiHost:tn.apiHost})).data;ti&&tw(ti?.isStreaming??!1);let to=Gr(tn.apiHost);return to.on("connect",()=>{tm(to.id)}),to.on("start",()=>{t$(tn=>[...tn,{message:"",type:"apiMessage"}])}),to.on("sourceDocuments",t_),to.on("token",tx),()=>{th(""),tu(!1),t$([{message:tn.welcomeMessage??Qr,type:"apiMessage"}]),to&&(to.disconnect(),tm(""))}}),tn=>{try{return new URL(tn)}catch(ti){}}),tC=tn=>(tn.sourceDocuments&&tn.sourceDocuments[0].metadata.length&&(tn.sourceDocuments=tn.sourceDocuments.map(tn=>{var ti=tn.metadata.reduce((tn,ti)=>(tn[ti.name]=ti.value,tn),{});return{pageContent:tn.pageContent,metadata:ti}})),tn);return[(()=>{var th;let tu=Xr(),tp=tu.firstChild,tf=tp.firstChild;return"function"==typeof(th=("function"==typeof(th=ta)?ht(th,tu):ta=tu,ti))?ht(th,tf):ti=tf,tf.style.setProperty("padding-bottom","100px"),ut(tf,G(J,{get each(){return[...tb()]},children:(ti,to)=>[A((()=>{let to=A(()=>"userMessage"===ti.type);return()=>to()&&G(ue,{get message(){return ti.message},get backgroundColor(){return tn.userMessage?.backgroundColor},get textColor(){return tn.userMessage?.textColor},get showAvatar(){return tn.userMessage?.showAvatar},get avatarSrc(){return tn.userMessage?.avatarSrc}})})()),A((()=>{let to=A(()=>"apiMessage"===ti.type);return()=>to()&&G(de,{get message(){return ti.message},get backgroundColor(){return tn.botMessage?.backgroundColor},get textColor(){return tn.botMessage?.textColor},get showAvatar(){return tn.botMessage?.showAvatar},get avatarSrc(){return tn.botMessage?.avatarSrc}})})()),A((()=>{let tn=A(()=>!("userMessage"!==ti.type||!tc()||to()!==tb().length-1));return()=>tn()&&G(ye,{})})()),A((()=>{let tn=A(()=>!(!ti.sourceDocuments||!ti.sourceDocuments.length));return()=>{var to;return tn()&&((to=Jr()).style.setProperty("display","flex"),to.style.setProperty("flex-direction","row"),to.style.setProperty("width","100%"),ut(to,G(J,{get each(){return[...(tn=>{let ti=[],to=[];return(tn=tC(tn)).sourceDocuments.forEach(tn=>{t0(tn.metadata.source)&&!ti.includes(tn.metadata.source)?(ti.push(tn.metadata.source),to.push(tn)):t0(tn.metadata.source)||to.push(tn)}),to})(ti),]},children(tn){let ti=t0(tn.metadata.source);return G(we,{get pageContent(){return ti?ti.pathname:tn.pageContent},get metadata(){return tn.metadata},onSourceClick(){ti?window.open(tn.metadata.source,"_blank"):(tg(tn),td(!0))}})}})),to)}})()),]})),ut(tp,G(Ht,{get backgroundColor(){return tn.textInput?.backgroundColor},get textColor(){return tn.textInput?.textColor},get placeholder(){return tn.textInput?.placeholder},get sendButtonColor(){return tn.textInput?.sendButtonColor},get fontSize(){return tn.fontSize},get defaultValue(){return tl()},onSubmit:t8}),null),ut(tu,G(ke,{get badgeBackgroundColor(){return tn.badgeBackgroundColor},get poweredByTextColor(){return tn.poweredByTextColor},botContainer:ta}),null),ut(tu,G(ts,{ref(tn){"function"==typeof to?to(tn):to=tn}}),null),C(()=>lt(tu,"relative flex w-full h-full text-base overflow-hidden bg-cover bg-center flex-col items-center chatbot-container "+tn.class)),tu})(),A((()=>{let tn=A(()=>!!tp());return()=>tn()&&G(Yr,{get isOpen(){return tp()},get value(){return tf()},onClose:()=>td(!1)})})()),]},ts=tn=>{var ti,to;return ti=Kr(),"function"==typeof(to=tn.ref)?ht(to,ti):tn.ref=ti,ti},es=ot("<style>"),rs=ot('<div part="bot">'),ss=tn=>{var ti;let[to]=X(tn,["theme"]),[ta,tl]=_(!1),[th,tc]=_(!1);return[(ut(ti=es(),Ct),ti),G($t,Y(()=>to.theme?.button,{toggleBot(){ta()?tl(!1):(th()||tc(!0),tl(!0))},get isBotOpened(){return ta()}})),(()=>{let ti=rs();return ti.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),ti.style.setProperty("transform-origin","bottom right"),ti.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),ti.style.setProperty("z-index","42424242"),ut(ti,G(K,{get when(){return th()},get children(){return G(Zr,{get badgeBackgroundColor(){return to.theme?.chatWindow?.backgroundColor},get welcomeMessage(){return to.theme?.chatWindow?.welcomeMessage},get poweredByTextColor(){return to.theme?.chatWindow?.poweredByTextColor},get textInput(){return to.theme?.chatWindow?.textInput},get botMessage(){return to.theme?.chatWindow?.botMessage},get userMessage(){return to.theme?.chatWindow?.userMessage},get fontSize(){return to.theme?.chatWindow?.fontSize},get chatflowid(){return tn.chatflowid},get chatflowConfig(){return tn.chatflowConfig},get apiHost(){return tn.apiHost}})}})),C(tl=>{var th=to.theme?.chatWindow?.height?to.theme?.chatWindow?.height.toString()+"px":"calc(100% - 100px)",tc=ta()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",tu=to.theme?.chatWindow?.backgroundColor||"#ffffff",tp="fixed sm:right-5 rounded-lg w-full sm:w-[400px] max-h-[704px]"+(ta()?" opacity-1":" opacity-0 pointer-events-none")+("large"===tn.theme?.button?.size?" bottom-24":" bottom-20");return th!==tl._v$&&(null!=(tl._v$=th)?ti.style.setProperty("height",th):ti.style.removeProperty("height")),tc!==tl._v$2&&(null!=(tl._v$2=tc)?ti.style.setProperty("transform",tc):ti.style.removeProperty("transform")),tu!==tl._v$3&&(null!=(tl._v$3=tu)?ti.style.setProperty("background-color",tu):ti.style.removeProperty("background-color")),tp!==tl._v$4&&lt(ti,tl._v$4=tp),tl},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),ti})(),]},ns=ot("<style>"),os=ot("<div>"),is=(tn,{element:ti})=>{var to;let[ta,tl]=_(!1),th=new IntersectionObserver(tn=>{tn.some(tn=>tn.isIntersecting)&&tl(!0)});return T(()=>{th.observe(ti)}),P(()=>{th.disconnect()}),[(ut(to=ns(),Ct),to),G(K,{get when(){return ta()},get children(){let tc=os();return tc.style.setProperty("margin","0px"),ut(tc,G(Zr,{get badgeBackgroundColor(){return tn.theme?.chatWindow?.backgroundColor},get welcomeMessage(){return tn.theme?.chatWindow?.welcomeMessage},get poweredByTextColor(){return tn.theme?.chatWindow?.poweredByTextColor},get textInput(){return tn.theme?.chatWindow?.textInput},get botMessage(){return tn.theme?.chatWindow?.botMessage},get userMessage(){return tn.theme?.chatWindow?.userMessage},get fontSize(){return tn.theme?.chatWindow?.fontSize},get chatflowid(){return tn.chatflowid},get chatflowConfig(){return tn.chatflowConfig},get apiHost(){return tn.apiHost}})),C(ti=>{var to=tn.theme?.chatWindow?.backgroundColor||"#ffffff",ta=tn.theme?.chatWindow?.height?tn.theme?.chatWindow?.height.toString()+"px":"100vh",tl=tn.theme?.chatWindow?.width?tn.theme?.chatWindow?.width.toString()+"px":"100%";return to!==ti._v$&&(null!=(ti._v$=to)?tc.style.setProperty("background-color",to):tc.style.removeProperty("background-color")),ta!==ti._v$2&&(null!=(ti._v$2=ta)?tc.style.setProperty("height",ta):tc.style.removeProperty("height")),tl!==ti._v$3&&(null!=(ti._v$3=tl)?tc.style.setProperty("width",tl):tc.style.removeProperty("width")),ti},{_v$:void 0,_v$2:void 0,_v$3:void 0}),tc}}),]},as=tn=>{var ti=tn.id?document.getElementById(tn.id):document.querySelector("flowise-fullchatbot");if(!ti)throw Error("<flowise-fullchatbot> element not found.");Object.assign(ti,tn)},ls=tn=>{var ti=document.createElement("flowise-chatbot");Object.assign(ti,tn),document.body.appendChild(ti)},cs=("undefined"!=typeof window&&(vt("flowise-fullchatbot",xt,is),vt("flowise-chatbot",xt,ss)),{initFull:as,init:ls});t=cs,"undefined"!=typeof window&&(window.Chatbot={...t});export{cs as default};